(this.webpackJsonpnosqlmanager=this.webpackJsonpnosqlmanager||[]).push([[0],{11:function(e,t,n){"use strict";var a=n(121),r=a.Reader,o=a.Writer,i=a.util,c=a.roots.default||(a.roots.default={});c.KeySpaces=function(){function e(e){if(this.keyspaces=[],this.roles=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.keyspaces=i.emptyArray,e.prototype.roles=i.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.keyspaces&&e.keyspaces.length)for(var n=0;n<e.keyspaces.length;++n)c.KeySpace.encode(e.keyspaces[n],t.uint32(10).fork()).ldelim();if(null!=e.roles&&e.roles.length)for(n=0;n<e.roles.length;++n)c.Role.encode(e.roles[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,a=new c.KeySpaces;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:a.keyspaces&&a.keyspaces.length||(a.keyspaces=[]),a.keyspaces.push(c.KeySpace.decode(e,e.uint32()));break;case 2:a.roles&&a.roles.length||(a.roles=[]),a.roles.push(c.Role.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return a},e.decodeDelimited=function(e){return e instanceof r||(e=new r(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.keyspaces&&e.hasOwnProperty("keyspaces")){if(!Array.isArray(e.keyspaces))return"keyspaces: array expected";for(var t=0;t<e.keyspaces.length;++t){if(n=c.KeySpace.verify(e.keyspaces[t]))return"keyspaces."+n}}if(null!=e.roles&&e.hasOwnProperty("roles")){if(!Array.isArray(e.roles))return"role: array expected";for(t=0;t<e.roles.length;++t){var n;if(n=c.Role.verify(e.roles[t]))return"role."+n}}return null},e.fromObject=function(e){if(e instanceof c.KeySpaces)return e;var t=new c.KeySpaces;if(e.keyspaces){if(!Array.isArray(e.keyspaces))throw TypeError(".KeySpaces.keyspaces: array expected");t.keyspaces=[];for(var n=0;n<e.keyspaces.length;++n){if("object"!==typeof e.keyspaces[n])throw TypeError(".KeySpaces.keyspaces: object expected");t.keyspaces[n]=c.KeySpace.fromObject(e.keyspaces[n])}}if(e.roles){if(!Array.isArray(e.roles))throw TypeError(".KeySpaces.role: array expected");t.roles=[];for(n=0;n<e.roles.length;++n){if("object"!==typeof e.roles[n])throw TypeError(".KeySpaces.role: object expected");t.roles[n]=c.Role.fromObject(e.roles[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.keyspaces=[],n.roles=[]),e.keyspaces&&e.keyspaces.length){n.keyspaces=[];for(var a=0;a<e.keyspaces.length;++a)n.keyspaces[a]=c.KeySpace.toObject(e.keyspaces[a],t)}if(e.roles&&e.roles.length){n.roles=[];for(a=0;a<e.roles.length;++a)n.roles[a]=c.Role.toObject(e.roles[a],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),c.KeySpace=function(){function e(e){if(this.replication={},this.tables=[],this.userTypes=[],this.userFunctions=[],this.aggregateFunctions=[],this.views=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.durableWrites=!1,e.prototype.replication=i.emptyObject,e.prototype.tables=i.emptyArray,e.prototype.userTypes=i.emptyArray,e.prototype.userFunctions=i.emptyArray,e.prototype.aggregateFunctions=i.emptyArray,e.prototype.views=i.emptyArray,e.prototype.connectionAlias="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.durableWrites&&Object.hasOwnProperty.call(e,"durableWrites")&&t.uint32(16).bool(e.durableWrites),null!=e.replication&&Object.hasOwnProperty.call(e,"replication"))for(var n=Object.keys(e.replication),a=0;a<n.length;++a)t.uint32(26).fork().uint32(10).string(n[a]).uint32(18).string(e.replication[n[a]]).ldelim();if(null!=e.tables&&e.tables.length)for(a=0;a<e.tables.length;++a)c.Table.encode(e.tables[a],t.uint32(34).fork()).ldelim();if(null!=e.userTypes&&e.userTypes.length)for(a=0;a<e.userTypes.length;++a)c.UserType.encode(e.userTypes[a],t.uint32(42).fork()).ldelim();if(null!=e.userFunctions&&e.userFunctions.length)for(a=0;a<e.userFunctions.length;++a)c.UserFunction.encode(e.userFunctions[a],t.uint32(50).fork()).ldelim();if(null!=e.aggregateFunctions&&e.aggregateFunctions.length)for(a=0;a<e.aggregateFunctions.length;++a)c.AggregateFunction.encode(e.aggregateFunctions[a],t.uint32(58).fork()).ldelim();if(null!=e.views&&e.views.length)for(a=0;a<e.views.length;++a)c.MateriliazedView.encode(e.views[a],t.uint32(66).fork()).ldelim();return null!=e.connectionAlias&&Object.hasOwnProperty.call(e,"connectionAlias")&&t.uint32(74).string(e.connectionAlias),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n,a=void 0===t?e.len:e.pos+t,o=new c.KeySpace;e.pos<a;){var s=e.uint32();switch(s>>>3){case 1:o.name=e.string();break;case 2:o.durableWrites=e.bool();break;case 3:e.skip().pos++,o.replication===i.emptyObject&&(o.replication={}),n=e.string(),e.pos++,o.replication[n]=e.string();break;case 4:o.tables&&o.tables.length||(o.tables=[]),o.tables.push(c.Table.decode(e,e.uint32()));break;case 5:o.userTypes&&o.userTypes.length||(o.userTypes=[]),o.userTypes.push(c.UserType.decode(e,e.uint32()));break;case 6:o.userFunctions&&o.userFunctions.length||(o.userFunctions=[]),o.userFunctions.push(c.UserFunction.decode(e,e.uint32()));break;case 7:o.aggregateFunctions&&o.aggregateFunctions.length||(o.aggregateFunctions=[]),o.aggregateFunctions.push(c.AggregateFunction.decode(e,e.uint32()));break;case 8:o.views&&o.views.length||(o.views=[]),o.views.push(c.MateriliazedView.decode(e,e.uint32()));break;case 9:o.connectionAlias=e.string();break;default:e.skipType(7&s)}}return o},e.decodeDelimited=function(e){return e instanceof r||(e=new r(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!i.isString(e.name))return"name: string expected";if(null!=e.durableWrites&&e.hasOwnProperty("durableWrites")&&"boolean"!==typeof e.durableWrites)return"durableWrites: boolean expected";if(null!=e.replication&&e.hasOwnProperty("replication")){if(!i.isObject(e.replication))return"replication: object expected";for(var t=Object.keys(e.replication),n=0;n<t.length;++n)if(!i.isString(e.replication[t[n]]))return"replication: string{k:string} expected"}if(null!=e.tables&&e.hasOwnProperty("tables")){if(!Array.isArray(e.tables))return"table: array expected";for(n=0;n<e.tables.length;++n){if(a=c.Table.verify(e.tables[n]))return"table."+a}}if(null!=e.userTypes&&e.hasOwnProperty("userTypes")){if(!Array.isArray(e.userTypes))return"userTypes: array expected";for(n=0;n<e.userTypes.length;++n){if(a=c.UserType.verify(e.userTypes[n]))return"userTypes."+a}}if(null!=e.userFunctions&&e.hasOwnProperty("userFunctions")){if(!Array.isArray(e.userFunctions))return"userFunctions: array expected";for(n=0;n<e.userFunctions.length;++n){if(a=c.UserFunction.verify(e.userFunctions[n]))return"userFunctions."+a}}if(null!=e.aggregateFunctions&&e.hasOwnProperty("aggregateFunctions")){if(!Array.isArray(e.aggregateFunctions))return"aggregateFunctions: array expected";for(n=0;n<e.aggregateFunctions.length;++n){if(a=c.AggregateFunction.verify(e.aggregateFunctions[n]))return"aggregateFunctions."+a}}if(null!=e.views&&e.hasOwnProperty("views")){if(!Array.isArray(e.views))return"views: array expected";for(n=0;n<e.views.length;++n){var a;if(a=c.MateriliazedView.verify(e.views[n]))return"views."+a}}return null!=e.connectionAlias&&e.hasOwnProperty("connectionAlias")&&!i.isString(e.connectionAlias)?"connectionAlias: string expected":null},e.fromObject=function(e){if(e instanceof c.KeySpace)return e;var t=new c.KeySpace;if(null!=e.name&&(t.name=String(e.name)),null!=e.durableWrites&&(t.durableWrites=Boolean(e.durableWrites)),e.replication){if("object"!==typeof e.replication)throw TypeError(".KeySpace.replication: object expected");t.replication={};for(var n=Object.keys(e.replication),a=0;a<n.length;++a)t.replication[n[a]]=String(e.replication[n[a]])}if(e.tables){if(!Array.isArray(e.tables))throw TypeError(".KeySpace.table: array expected");t.tables=[];for(a=0;a<e.tables.length;++a){if("object"!==typeof e.tables[a])throw TypeError(".KeySpace.table: object expected");t.tables[a]=c.Table.fromObject(e.tables[a])}}if(e.userTypes){if(!Array.isArray(e.userTypes))throw TypeError(".KeySpace.userTypes: array expected");t.userTypes=[];for(a=0;a<e.userTypes.length;++a){if("object"!==typeof e.userTypes[a])throw TypeError(".KeySpace.userTypes: object expected");t.userTypes[a]=c.UserType.fromObject(e.userTypes[a])}}if(e.userFunctions){if(!Array.isArray(e.userFunctions))throw TypeError(".KeySpace.userFunctions: array expected");t.userFunctions=[];for(a=0;a<e.userFunctions.length;++a){if("object"!==typeof e.userFunctions[a])throw TypeError(".KeySpace.userFunctions: object expected");t.userFunctions[a]=c.UserFunction.fromObject(e.userFunctions[a])}}if(e.aggregateFunctions){if(!Array.isArray(e.aggregateFunctions))throw TypeError(".KeySpace.aggregateFunctions: array expected");t.aggregateFunctions=[];for(a=0;a<e.aggregateFunctions.length;++a){if("object"!==typeof e.aggregateFunctions[a])throw TypeError(".KeySpace.aggregateFunctions: object expected");t.aggregateFunctions[a]=c.AggregateFunction.fromObject(e.aggregateFunctions[a])}}if(e.views){if(!Array.isArray(e.views))throw TypeError(".KeySpace.views: array expected");t.views=[];for(a=0;a<e.views.length;++a){if("object"!==typeof e.views[a])throw TypeError(".KeySpace.views: object expected");t.views[a]=c.MateriliazedView.fromObject(e.views[a])}}return null!=e.connectionAlias&&(t.connectionAlias=String(e.connectionAlias)),t},e.toObject=function(e,t){t||(t={});var n,a={};if((t.arrays||t.defaults)&&(a.tables=[],a.userTypes=[],a.userFunctions=[],a.aggregateFunctions=[],a.views=[]),(t.objects||t.defaults)&&(a.replication={}),t.defaults&&(a.name="",a.durableWrites=!1,a.connectionAlias=""),null!=e.name&&e.hasOwnProperty("name")&&(a.name=e.name),null!=e.durableWrites&&e.hasOwnProperty("durableWrites")&&(a.durableWrites=e.durableWrites),e.replication&&(n=Object.keys(e.replication)).length){a.replication={};for(var r=0;r<n.length;++r)a.replication[n[r]]=e.replication[n[r]]}if(e.tables&&e.tables.length){a.tables=[];for(r=0;r<e.tables.length;++r)a.tables[r]=c.Table.toObject(e.tables[r],t)}if(e.userTypes&&e.userTypes.length){a.userTypes=[];for(r=0;r<e.userTypes.length;++r)a.userTypes[r]=c.UserType.toObject(e.userTypes[r],t)}if(e.userFunctions&&e.userFunctions.length){a.userFunctions=[];for(r=0;r<e.userFunctions.length;++r)a.userFunctions[r]=c.UserFunction.toObject(e.userFunctions[r],t)}if(e.aggregateFunctions&&e.aggregateFunctions.length){a.aggregateFunctions=[];for(r=0;r<e.aggregateFunctions.length;++r)a.aggregateFunctions[r]=c.AggregateFunction.toObject(e.aggregateFunctions[r],t)}if(e.views&&e.views.length){a.views=[];for(r=0;r<e.views.length;++r)a.views[r]=c.MateriliazedView.toObject(e.views[r],t)}return null!=e.connectionAlias&&e.hasOwnProperty("connectionAlias")&&(a.connectionAlias=e.connectionAlias),a},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),c.Table=function(){function e(e){if(this.columns=[],this.partitionKey=[],this.clusteringKey=[],this.options={},this.indices=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.columns=i.emptyArray,e.prototype.partitionKey=i.emptyArray,e.prototype.clusteringKey=i.emptyArray,e.prototype.options=i.emptyObject,e.prototype.indices=i.emptyArray,e.prototype.describe="",e.prototype.connectionAlias="",e.prototype.keyspace="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.columns&&e.columns.length)for(var n=0;n<e.columns.length;++n)c.Column.encode(e.columns[n],t.uint32(18).fork()).ldelim();if(null!=e.partitionKey&&e.partitionKey.length)for(n=0;n<e.partitionKey.length;++n)t.uint32(26).string(e.partitionKey[n]);if(null!=e.clusteringKey&&e.clusteringKey.length)for(n=0;n<e.clusteringKey.length;++n)t.uint32(34).string(e.clusteringKey[n]);if(null!=e.options&&Object.hasOwnProperty.call(e,"options")){var a=Object.keys(e.options);for(n=0;n<a.length;++n)t.uint32(42).fork().uint32(10).string(a[n]).uint32(18).string(e.options[a[n]]).ldelim()}if(null!=e.indices&&e.indices.length)for(n=0;n<e.indices.length;++n)c.Index.encode(e.indices[n],t.uint32(50).fork()).ldelim();return null!=e.describe&&Object.hasOwnProperty.call(e,"describe")&&t.uint32(58).string(e.describe),null!=e.connectionAlias&&Object.hasOwnProperty.call(e,"connectionAlias")&&t.uint32(66).string(e.connectionAlias),null!=e.keyspace&&Object.hasOwnProperty.call(e,"keyspace")&&t.uint32(74).string(e.keyspace),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n,a=void 0===t?e.len:e.pos+t,o=new c.Table;e.pos<a;){var s=e.uint32();switch(s>>>3){case 1:o.name=e.string();break;case 2:o.columns&&o.columns.length||(o.columns=[]),o.columns.push(c.Column.decode(e,e.uint32()));break;case 3:o.partitionKey&&o.partitionKey.length||(o.partitionKey=[]),o.partitionKey.push(e.string());break;case 4:o.clusteringKey&&o.clusteringKey.length||(o.clusteringKey=[]),o.clusteringKey.push(e.string());break;case 5:e.skip().pos++,o.options===i.emptyObject&&(o.options={}),n=e.string(),e.pos++,o.options[n]=e.string();break;case 6:o.indices&&o.indices.length||(o.indices=[]),o.indices.push(c.Index.decode(e,e.uint32()));break;case 7:o.describe=e.string();break;case 8:o.connectionAlias=e.string();break;case 9:o.keyspace=e.string();break;default:e.skipType(7&s)}}return o},e.decodeDelimited=function(e){return e instanceof r||(e=new r(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!i.isString(e.name))return"name: string expected";if(null!=e.columns&&e.hasOwnProperty("columns")){if(!Array.isArray(e.columns))return"columns: array expected";for(var t=0;t<e.columns.length;++t){if(a=c.Column.verify(e.columns[t]))return"columns."+a}}if(null!=e.partitionKey&&e.hasOwnProperty("partitionKey")){if(!Array.isArray(e.partitionKey))return"partitionKey: array expected";for(t=0;t<e.partitionKey.length;++t)if(!i.isString(e.partitionKey[t]))return"partitionKey: string[] expected"}if(null!=e.clusteringKey&&e.hasOwnProperty("clusteringKey")){if(!Array.isArray(e.clusteringKey))return"clusteringKey: array expected";for(t=0;t<e.clusteringKey.length;++t)if(!i.isString(e.clusteringKey[t]))return"clusteringKey: string[] expected"}if(null!=e.options&&e.hasOwnProperty("options")){if(!i.isObject(e.options))return"options: object expected";var n=Object.keys(e.options);for(t=0;t<n.length;++t)if(!i.isString(e.options[n[t]]))return"options: string{k:string} expected"}if(null!=e.indices&&e.hasOwnProperty("indices")){if(!Array.isArray(e.indices))return"indices: array expected";for(t=0;t<e.indices.length;++t){var a;if(a=c.Index.verify(e.indices[t]))return"indices."+a}}return null!=e.describe&&e.hasOwnProperty("describe")&&!i.isString(e.describe)?"describe: string expected":null!=e.connectionAlias&&e.hasOwnProperty("connectionAlias")&&!i.isString(e.connectionAlias)?"connectionAlias: string expected":null!=e.keyspace&&e.hasOwnProperty("keyspace")&&!i.isString(e.keyspace)?"keyspace: string expected":null},e.fromObject=function(e){if(e instanceof c.Table)return e;var t=new c.Table;if(null!=e.name&&(t.name=String(e.name)),e.columns){if(!Array.isArray(e.columns))throw TypeError(".Table.columns: array expected");t.columns=[];for(var n=0;n<e.columns.length;++n){if("object"!==typeof e.columns[n])throw TypeError(".Table.columns: object expected");t.columns[n]=c.Column.fromObject(e.columns[n])}}if(e.partitionKey){if(!Array.isArray(e.partitionKey))throw TypeError(".Table.partitionKey: array expected");t.partitionKey=[];for(n=0;n<e.partitionKey.length;++n)t.partitionKey[n]=String(e.partitionKey[n])}if(e.clusteringKey){if(!Array.isArray(e.clusteringKey))throw TypeError(".Table.clusteringKey: array expected");t.clusteringKey=[];for(n=0;n<e.clusteringKey.length;++n)t.clusteringKey[n]=String(e.clusteringKey[n])}if(e.options){if("object"!==typeof e.options)throw TypeError(".Table.options: object expected");t.options={};var a=Object.keys(e.options);for(n=0;n<a.length;++n)t.options[a[n]]=String(e.options[a[n]])}if(e.indices){if(!Array.isArray(e.indices))throw TypeError(".Table.indices: array expected");t.indices=[];for(n=0;n<e.indices.length;++n){if("object"!==typeof e.indices[n])throw TypeError(".Table.indices: object expected");t.indices[n]=c.Index.fromObject(e.indices[n])}}return null!=e.describe&&(t.describe=String(e.describe)),null!=e.connectionAlias&&(t.connectionAlias=String(e.connectionAlias)),null!=e.keyspace&&(t.keyspace=String(e.keyspace)),t},e.toObject=function(e,t){t||(t={});var n,a={};if((t.arrays||t.defaults)&&(a.columns=[],a.partitionKey=[],a.clusteringKey=[],a.indices=[]),(t.objects||t.defaults)&&(a.options={}),t.defaults&&(a.name="",a.describe="",a.connectionAlias="",a.keyspace=""),null!=e.name&&e.hasOwnProperty("name")&&(a.name=e.name),e.columns&&e.columns.length){a.columns=[];for(var r=0;r<e.columns.length;++r)a.columns[r]=c.Column.toObject(e.columns[r],t)}if(e.partitionKey&&e.partitionKey.length){a.partitionKey=[];for(r=0;r<e.partitionKey.length;++r)a.partitionKey[r]=e.partitionKey[r]}if(e.clusteringKey&&e.clusteringKey.length){a.clusteringKey=[];for(r=0;r<e.clusteringKey.length;++r)a.clusteringKey[r]=e.clusteringKey[r]}if(e.options&&(n=Object.keys(e.options)).length){a.options={};for(r=0;r<n.length;++r)a.options[n[r]]=e.options[n[r]]}if(e.indices&&e.indices.length){a.indices=[];for(r=0;r<e.indices.length;++r)a.indices[r]=c.Index.toObject(e.indices[r],t)}return null!=e.describe&&e.hasOwnProperty("describe")&&(a.describe=e.describe),null!=e.connectionAlias&&e.hasOwnProperty("connectionAlias")&&(a.connectionAlias=e.connectionAlias),null!=e.keyspace&&e.hasOwnProperty("keyspace")&&(a.keyspace=e.keyspace),a},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),c.Index=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.className="",e.prototype.isIndexOnKeys=!1,e.prototype.isIndexOnValues=!1,e.prototype.column="",e.prototype.keyspace="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.className&&Object.hasOwnProperty.call(e,"className")&&t.uint32(18).string(e.className),null!=e.isIndexOnKeys&&Object.hasOwnProperty.call(e,"isIndexOnKeys")&&t.uint32(24).bool(e.isIndexOnKeys),null!=e.isIndexOnValues&&Object.hasOwnProperty.call(e,"isIndexOnValues")&&t.uint32(32).bool(e.isIndexOnValues),null!=e.column&&Object.hasOwnProperty.call(e,"column")&&t.uint32(42).string(e.column),null!=e.keyspace&&Object.hasOwnProperty.call(e,"keyspace")&&t.uint32(50).string(e.keyspace),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,a=new c.Index;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:a.name=e.string();break;case 2:a.className=e.string();break;case 3:a.isIndexOnKeys=e.bool();break;case 4:a.isIndexOnValues=e.bool();break;case 5:a.column=e.string();break;case 6:a.keyspace=e.string();break;default:e.skipType(7&o)}}return a},e.decodeDelimited=function(e){return e instanceof r||(e=new r(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!i.isString(e.name)?"name: string expected":null!=e.className&&e.hasOwnProperty("className")&&!i.isString(e.className)?"className: string expected":null!=e.isIndexOnKeys&&e.hasOwnProperty("isIndexOnKeys")&&"boolean"!==typeof e.isIndexOnKeys?"isIndexOnKeys: boolean expected":null!=e.isIndexOnValues&&e.hasOwnProperty("isIndexOnValues")&&"boolean"!==typeof e.isIndexOnValues?"isIndexOnValues: boolean expected":null!=e.column&&e.hasOwnProperty("column")&&!i.isString(e.column)?"column: string expected":null!=e.keyspace&&e.hasOwnProperty("keyspace")&&!i.isString(e.keyspace)?"keyspace: string expected":null},e.fromObject=function(e){if(e instanceof c.Index)return e;var t=new c.Index;return null!=e.name&&(t.name=String(e.name)),null!=e.className&&(t.className=String(e.className)),null!=e.isIndexOnKeys&&(t.isIndexOnKeys=Boolean(e.isIndexOnKeys)),null!=e.isIndexOnValues&&(t.isIndexOnValues=Boolean(e.isIndexOnValues)),null!=e.column&&(t.column=String(e.column)),null!=e.keyspace&&(t.keyspace=String(e.keyspace)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.className="",n.isIndexOnKeys=!1,n.isIndexOnValues=!1,n.column="",n.keyspace=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.className&&e.hasOwnProperty("className")&&(n.className=e.className),null!=e.isIndexOnKeys&&e.hasOwnProperty("isIndexOnKeys")&&(n.isIndexOnKeys=e.isIndexOnKeys),null!=e.isIndexOnValues&&e.hasOwnProperty("isIndexOnValues")&&(n.isIndexOnValues=e.isIndexOnValues),null!=e.column&&e.hasOwnProperty("column")&&(n.column=e.column),null!=e.keyspace&&e.hasOwnProperty("keyspace")&&(n.keyspace=e.keyspace),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),c.Column=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.type="",e.prototype.isPartitionKey=!1,e.prototype.isClusteringKey=!1,e.prototype.isStatic=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(18).string(e.type),null!=e.isPartitionKey&&Object.hasOwnProperty.call(e,"isPartitionKey")&&t.uint32(24).bool(e.isPartitionKey),null!=e.isClusteringKey&&Object.hasOwnProperty.call(e,"isClusteringKey")&&t.uint32(32).bool(e.isClusteringKey),null!=e.isStatic&&Object.hasOwnProperty.call(e,"isStatic")&&t.uint32(40).bool(e.isStatic),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,a=new c.Column;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:a.name=e.string();break;case 2:a.type=e.string();break;case 3:a.isPartitionKey=e.bool();break;case 4:a.isClusteringKey=e.bool();break;case 5:a.isStatic=e.bool();break;default:e.skipType(7&o)}}return a},e.decodeDelimited=function(e){return e instanceof r||(e=new r(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!i.isString(e.name)?"name: string expected":null!=e.type&&e.hasOwnProperty("type")&&!i.isString(e.type)?"type: string expected":null!=e.isPartitionKey&&e.hasOwnProperty("isPartitionKey")&&"boolean"!==typeof e.isPartitionKey?"isPartitionKey: boolean expected":null!=e.isClusteringKey&&e.hasOwnProperty("isClusteringKey")&&"boolean"!==typeof e.isClusteringKey?"isClusteringKey: boolean expected":null!=e.isStatic&&e.hasOwnProperty("isStatic")&&"boolean"!==typeof e.isStatic?"isStatic: boolean expected":null},e.fromObject=function(e){if(e instanceof c.Column)return e;var t=new c.Column;return null!=e.name&&(t.name=String(e.name)),null!=e.type&&(t.type=String(e.type)),null!=e.isPartitionKey&&(t.isPartitionKey=Boolean(e.isPartitionKey)),null!=e.isClusteringKey&&(t.isClusteringKey=Boolean(e.isClusteringKey)),null!=e.isStatic&&(t.isStatic=Boolean(e.isStatic)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.type="",n.isPartitionKey=!1,n.isClusteringKey=!1,n.isStatic=!1),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.isPartitionKey&&e.hasOwnProperty("isPartitionKey")&&(n.isPartitionKey=e.isPartitionKey),null!=e.isClusteringKey&&e.hasOwnProperty("isClusteringKey")&&(n.isClusteringKey=e.isClusteringKey),null!=e.isStatic&&e.hasOwnProperty("isStatic")&&(n.isStatic=e.isStatic),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),c.UserType=function(){function e(e){if(this.fields=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.fields=i.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.fields&&e.fields.length)for(var n=0;n<e.fields.length;++n)c.Field.encode(e.fields[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,a=new c.UserType;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:a.name=e.string();break;case 2:a.fields&&a.fields.length||(a.fields=[]),a.fields.push(c.Field.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return a},e.decodeDelimited=function(e){return e instanceof r||(e=new r(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!i.isString(e.name))return"name: string expected";if(null!=e.fields&&e.hasOwnProperty("fields")){if(!Array.isArray(e.fields))return"fields: array expected";for(var t=0;t<e.fields.length;++t){var n=c.Field.verify(e.fields[t]);if(n)return"fields."+n}}return null},e.fromObject=function(e){if(e instanceof c.UserType)return e;var t=new c.UserType;if(null!=e.name&&(t.name=String(e.name)),e.fields){if(!Array.isArray(e.fields))throw TypeError(".UserType.fields: array expected");t.fields=[];for(var n=0;n<e.fields.length;++n){if("object"!==typeof e.fields[n])throw TypeError(".UserType.fields: object expected");t.fields[n]=c.Field.fromObject(e.fields[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.fields=[]),t.defaults&&(n.name=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),e.fields&&e.fields.length){n.fields=[];for(var a=0;a<e.fields.length;++a)n.fields[a]=c.Field.toObject(e.fields[a],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),c.Field=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.type="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(18).string(e.type),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,a=new c.Field;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:a.name=e.string();break;case 2:a.type=e.string();break;default:e.skipType(7&o)}}return a},e.decodeDelimited=function(e){return e instanceof r||(e=new r(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!i.isString(e.name)?"name: string expected":null!=e.type&&e.hasOwnProperty("type")&&!i.isString(e.type)?"type: string expected":null},e.fromObject=function(e){if(e instanceof c.Field)return e;var t=new c.Field;return null!=e.name&&(t.name=String(e.name)),null!=e.type&&(t.type=String(e.type)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.type=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),c.UserFunction=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.keyspace="",e.prototype.orReplace=!1,e.prototype.ifNotExist=!1,e.prototype.returnType="",e.prototype.calledOnNullInput=!1,e.prototype.language="",e.prototype.signature="",e.prototype.body="",e.prototype.connection="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.keyspace&&Object.hasOwnProperty.call(e,"keyspace")&&t.uint32(18).string(e.keyspace),null!=e.orReplace&&Object.hasOwnProperty.call(e,"orReplace")&&t.uint32(24).bool(e.orReplace),null!=e.ifNotExist&&Object.hasOwnProperty.call(e,"ifNotExist")&&t.uint32(32).bool(e.ifNotExist),null!=e.returnType&&Object.hasOwnProperty.call(e,"returnType")&&t.uint32(42).string(e.returnType),null!=e.calledOnNullInput&&Object.hasOwnProperty.call(e,"calledOnNullInput")&&t.uint32(48).bool(e.calledOnNullInput),null!=e.language&&Object.hasOwnProperty.call(e,"language")&&t.uint32(58).string(e.language),null!=e.signature&&Object.hasOwnProperty.call(e,"signature")&&t.uint32(66).string(e.signature),null!=e.body&&Object.hasOwnProperty.call(e,"body")&&t.uint32(74).string(e.body),null!=e.connection&&Object.hasOwnProperty.call(e,"connection")&&t.uint32(90).string(e.connection),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,a=new c.UserFunction;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:a.name=e.string();break;case 2:a.keyspace=e.string();break;case 3:a.orReplace=e.bool();break;case 4:a.ifNotExist=e.bool();break;case 5:a.returnType=e.string();break;case 6:a.calledOnNullInput=e.bool();break;case 7:a.language=e.string();break;case 8:a.signature=e.string();break;case 9:a.body=e.string();break;case 11:a.connection=e.string();break;default:e.skipType(7&o)}}return a},e.decodeDelimited=function(e){return e instanceof r||(e=new r(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!i.isString(e.name)?"name: string expected":null!=e.keyspace&&e.hasOwnProperty("keyspace")&&!i.isString(e.keyspace)?"keyspace: string expected":null!=e.orReplace&&e.hasOwnProperty("orReplace")&&"boolean"!==typeof e.orReplace?"orReplace: boolean expected":null!=e.ifNotExist&&e.hasOwnProperty("ifNotExist")&&"boolean"!==typeof e.ifNotExist?"ifNotExist: boolean expected":null!=e.returnType&&e.hasOwnProperty("returnType")&&!i.isString(e.returnType)?"returnType: string expected":null!=e.calledOnNullInput&&e.hasOwnProperty("calledOnNullInput")&&"boolean"!==typeof e.calledOnNullInput?"calledOnNullInput: boolean expected":null!=e.language&&e.hasOwnProperty("language")&&!i.isString(e.language)?"language: string expected":null!=e.signature&&e.hasOwnProperty("signature")&&!i.isString(e.signature)?"signature: string expected":null!=e.body&&e.hasOwnProperty("body")&&!i.isString(e.body)?"body: string expected":null!=e.connection&&e.hasOwnProperty("connection")&&!i.isString(e.connection)?"connection: string expected":null},e.fromObject=function(e){if(e instanceof c.UserFunction)return e;var t=new c.UserFunction;return null!=e.name&&(t.name=String(e.name)),null!=e.keyspace&&(t.keyspace=String(e.keyspace)),null!=e.orReplace&&(t.orReplace=Boolean(e.orReplace)),null!=e.ifNotExist&&(t.ifNotExist=Boolean(e.ifNotExist)),null!=e.returnType&&(t.returnType=String(e.returnType)),null!=e.calledOnNullInput&&(t.calledOnNullInput=Boolean(e.calledOnNullInput)),null!=e.language&&(t.language=String(e.language)),null!=e.signature&&(t.signature=String(e.signature)),null!=e.body&&(t.body=String(e.body)),null!=e.connection&&(t.connection=String(e.connection)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.keyspace="",n.orReplace=!1,n.ifNotExist=!1,n.returnType="",n.calledOnNullInput=!1,n.language="",n.signature="",n.body="",n.connection=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.keyspace&&e.hasOwnProperty("keyspace")&&(n.keyspace=e.keyspace),null!=e.orReplace&&e.hasOwnProperty("orReplace")&&(n.orReplace=e.orReplace),null!=e.ifNotExist&&e.hasOwnProperty("ifNotExist")&&(n.ifNotExist=e.ifNotExist),null!=e.returnType&&e.hasOwnProperty("returnType")&&(n.returnType=e.returnType),null!=e.calledOnNullInput&&e.hasOwnProperty("calledOnNullInput")&&(n.calledOnNullInput=e.calledOnNullInput),null!=e.language&&e.hasOwnProperty("language")&&(n.language=e.language),null!=e.signature&&e.hasOwnProperty("signature")&&(n.signature=e.signature),null!=e.body&&e.hasOwnProperty("body")&&(n.body=e.body),null!=e.connection&&e.hasOwnProperty("connection")&&(n.connection=e.connection),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),c.AggregateFunction=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.keyspace="",e.prototype.orReplace=!1,e.prototype.ifNotExist=!1,e.prototype.signature="",e.prototype.sFunc="",e.prototype.sType="",e.prototype.finalFunc="",e.prototype.initCond="",e.prototype.connection="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.keyspace&&Object.hasOwnProperty.call(e,"keyspace")&&t.uint32(18).string(e.keyspace),null!=e.orReplace&&Object.hasOwnProperty.call(e,"orReplace")&&t.uint32(24).bool(e.orReplace),null!=e.ifNotExist&&Object.hasOwnProperty.call(e,"ifNotExist")&&t.uint32(32).bool(e.ifNotExist),null!=e.signature&&Object.hasOwnProperty.call(e,"signature")&&t.uint32(42).string(e.signature),null!=e.sFunc&&Object.hasOwnProperty.call(e,"sFunc")&&t.uint32(50).string(e.sFunc),null!=e.sType&&Object.hasOwnProperty.call(e,"sType")&&t.uint32(58).string(e.sType),null!=e.finalFunc&&Object.hasOwnProperty.call(e,"finalFunc")&&t.uint32(66).string(e.finalFunc),null!=e.initCond&&Object.hasOwnProperty.call(e,"initCond")&&t.uint32(74).string(e.initCond),null!=e.connection&&Object.hasOwnProperty.call(e,"connection")&&t.uint32(82).string(e.connection),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,a=new c.AggregateFunction;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:a.name=e.string();break;case 2:a.keyspace=e.string();break;case 3:a.orReplace=e.bool();break;case 4:a.ifNotExist=e.bool();break;case 5:a.signature=e.string();break;case 6:a.sFunc=e.string();break;case 7:a.sType=e.string();break;case 8:a.finalFunc=e.string();break;case 9:a.initCond=e.string();break;case 10:a.connection=e.string();break;default:e.skipType(7&o)}}return a},e.decodeDelimited=function(e){return e instanceof r||(e=new r(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!i.isString(e.name)?"name: string expected":null!=e.keyspace&&e.hasOwnProperty("keyspace")&&!i.isString(e.keyspace)?"keyspace: string expected":null!=e.orReplace&&e.hasOwnProperty("orReplace")&&"boolean"!==typeof e.orReplace?"orReplace: boolean expected":null!=e.ifNotExist&&e.hasOwnProperty("ifNotExist")&&"boolean"!==typeof e.ifNotExist?"ifNotExist: boolean expected":null!=e.signature&&e.hasOwnProperty("signature")&&!i.isString(e.signature)?"signature: string expected":null!=e.sFunc&&e.hasOwnProperty("sFunc")&&!i.isString(e.sFunc)?"sFunc: string expected":null!=e.sType&&e.hasOwnProperty("sType")&&!i.isString(e.sType)?"sType: string expected":null!=e.finalFunc&&e.hasOwnProperty("finalFunc")&&!i.isString(e.finalFunc)?"finalFunc: string expected":null!=e.initCond&&e.hasOwnProperty("initCond")&&!i.isString(e.initCond)?"initCond: string expected":null!=e.connection&&e.hasOwnProperty("connection")&&!i.isString(e.connection)?"connection: string expected":null},e.fromObject=function(e){if(e instanceof c.AggregateFunction)return e;var t=new c.AggregateFunction;return null!=e.name&&(t.name=String(e.name)),null!=e.keyspace&&(t.keyspace=String(e.keyspace)),null!=e.orReplace&&(t.orReplace=Boolean(e.orReplace)),null!=e.ifNotExist&&(t.ifNotExist=Boolean(e.ifNotExist)),null!=e.signature&&(t.signature=String(e.signature)),null!=e.sFunc&&(t.sFunc=String(e.sFunc)),null!=e.sType&&(t.sType=String(e.sType)),null!=e.finalFunc&&(t.finalFunc=String(e.finalFunc)),null!=e.initCond&&(t.initCond=String(e.initCond)),null!=e.connection&&(t.connection=String(e.connection)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.keyspace="",n.orReplace=!1,n.ifNotExist=!1,n.signature="",n.sFunc="",n.sType="",n.finalFunc="",n.initCond="",n.connection=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.keyspace&&e.hasOwnProperty("keyspace")&&(n.keyspace=e.keyspace),null!=e.orReplace&&e.hasOwnProperty("orReplace")&&(n.orReplace=e.orReplace),null!=e.ifNotExist&&e.hasOwnProperty("ifNotExist")&&(n.ifNotExist=e.ifNotExist),null!=e.signature&&e.hasOwnProperty("signature")&&(n.signature=e.signature),null!=e.sFunc&&e.hasOwnProperty("sFunc")&&(n.sFunc=e.sFunc),null!=e.sType&&e.hasOwnProperty("sType")&&(n.sType=e.sType),null!=e.finalFunc&&e.hasOwnProperty("finalFunc")&&(n.finalFunc=e.finalFunc),null!=e.initCond&&e.hasOwnProperty("initCond")&&(n.initCond=e.initCond),null!=e.connection&&e.hasOwnProperty("connection")&&(n.connection=e.connection),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),c.MateriliazedView=function(){function e(e){if(this.primaryKeyNames=[],this.options={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.baseTable="",e.prototype.select="",e.prototype.includesAllColumns=!1,e.prototype.whereClause="",e.prototype.primaryKeyNames=i.emptyArray,e.prototype.options=i.emptyObject,e.prototype.connection="",e.prototype.nameKeySpace="",e.prototype.describe="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.baseTable&&Object.hasOwnProperty.call(e,"baseTable")&&t.uint32(18).string(e.baseTable),null!=e.select&&Object.hasOwnProperty.call(e,"select")&&t.uint32(26).string(e.select),null!=e.includesAllColumns&&Object.hasOwnProperty.call(e,"includesAllColumns")&&t.uint32(32).bool(e.includesAllColumns),null!=e.whereClause&&Object.hasOwnProperty.call(e,"whereClause")&&t.uint32(42).string(e.whereClause),null!=e.primaryKeyNames&&e.primaryKeyNames.length)for(var n=0;n<e.primaryKeyNames.length;++n)t.uint32(50).string(e.primaryKeyNames[n]);if(null!=e.options&&Object.hasOwnProperty.call(e,"options")){var a=Object.keys(e.options);for(n=0;n<a.length;++n)t.uint32(58).fork().uint32(10).string(a[n]).uint32(18).string(e.options[a[n]]).ldelim()}return null!=e.connection&&Object.hasOwnProperty.call(e,"connection")&&t.uint32(66).string(e.connection),null!=e.nameKeySpace&&Object.hasOwnProperty.call(e,"nameKeySpace")&&t.uint32(74).string(e.nameKeySpace),null!=e.describe&&Object.hasOwnProperty.call(e,"describe")&&t.uint32(82).string(e.describe),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n,a=void 0===t?e.len:e.pos+t,o=new c.MateriliazedView;e.pos<a;){var s=e.uint32();switch(s>>>3){case 1:o.name=e.string();break;case 2:o.baseTable=e.string();break;case 3:o.select=e.string();break;case 4:o.includesAllColumns=e.bool();break;case 5:o.whereClause=e.string();break;case 6:o.primaryKeyNames&&o.primaryKeyNames.length||(o.primaryKeyNames=[]),o.primaryKeyNames.push(e.string());break;case 7:e.skip().pos++,o.options===i.emptyObject&&(o.options={}),n=e.string(),e.pos++,o.options[n]=e.string();break;case 8:o.connection=e.string();break;case 9:o.nameKeySpace=e.string();break;case 10:o.describe=e.string();break;default:e.skipType(7&s)}}return o},e.decodeDelimited=function(e){return e instanceof r||(e=new r(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!i.isString(e.name))return"name: string expected";if(null!=e.baseTable&&e.hasOwnProperty("baseTable")&&!i.isString(e.baseTable))return"baseTable: string expected";if(null!=e.select&&e.hasOwnProperty("select")&&!i.isString(e.select))return"select: string expected";if(null!=e.includesAllColumns&&e.hasOwnProperty("includesAllColumns")&&"boolean"!==typeof e.includesAllColumns)return"includesAllColumns: boolean expected";if(null!=e.whereClause&&e.hasOwnProperty("whereClause")&&!i.isString(e.whereClause))return"whereClause: string expected";if(null!=e.primaryKeyNames&&e.hasOwnProperty("primaryKeyNames")){if(!Array.isArray(e.primaryKeyNames))return"primaryKeyNames: array expected";for(var t=0;t<e.primaryKeyNames.length;++t)if(!i.isString(e.primaryKeyNames[t]))return"primaryKeyNames: string[] expected"}if(null!=e.options&&e.hasOwnProperty("options")){if(!i.isObject(e.options))return"options: object expected";var n=Object.keys(e.options);for(t=0;t<n.length;++t)if(!i.isString(e.options[n[t]]))return"options: string{k:string} expected"}return null!=e.connection&&e.hasOwnProperty("connection")&&!i.isString(e.connection)?"connection: string expected":null!=e.nameKeySpace&&e.hasOwnProperty("nameKeySpace")&&!i.isString(e.nameKeySpace)?"nameKeySpace: string expected":null!=e.describe&&e.hasOwnProperty("describe")&&!i.isString(e.describe)?"describe: string expected":null},e.fromObject=function(e){if(e instanceof c.MateriliazedView)return e;var t=new c.MateriliazedView;if(null!=e.name&&(t.name=String(e.name)),null!=e.baseTable&&(t.baseTable=String(e.baseTable)),null!=e.select&&(t.select=String(e.select)),null!=e.includesAllColumns&&(t.includesAllColumns=Boolean(e.includesAllColumns)),null!=e.whereClause&&(t.whereClause=String(e.whereClause)),e.primaryKeyNames){if(!Array.isArray(e.primaryKeyNames))throw TypeError(".MateriliazedView.primaryKeyNames: array expected");t.primaryKeyNames=[];for(var n=0;n<e.primaryKeyNames.length;++n)t.primaryKeyNames[n]=String(e.primaryKeyNames[n])}if(e.options){if("object"!==typeof e.options)throw TypeError(".MateriliazedView.options: object expected");t.options={};var a=Object.keys(e.options);for(n=0;n<a.length;++n)t.options[a[n]]=String(e.options[a[n]])}return null!=e.connection&&(t.connection=String(e.connection)),null!=e.nameKeySpace&&(t.nameKeySpace=String(e.nameKeySpace)),null!=e.describe&&(t.describe=String(e.describe)),t},e.toObject=function(e,t){t||(t={});var n,a={};if((t.arrays||t.defaults)&&(a.primaryKeyNames=[]),(t.objects||t.defaults)&&(a.options={}),t.defaults&&(a.name="",a.baseTable="",a.select="",a.includesAllColumns=!1,a.whereClause="",a.connection="",a.nameKeySpace="",a.describe=""),null!=e.name&&e.hasOwnProperty("name")&&(a.name=e.name),null!=e.baseTable&&e.hasOwnProperty("baseTable")&&(a.baseTable=e.baseTable),null!=e.select&&e.hasOwnProperty("select")&&(a.select=e.select),null!=e.includesAllColumns&&e.hasOwnProperty("includesAllColumns")&&(a.includesAllColumns=e.includesAllColumns),null!=e.whereClause&&e.hasOwnProperty("whereClause")&&(a.whereClause=e.whereClause),e.primaryKeyNames&&e.primaryKeyNames.length){a.primaryKeyNames=[];for(var r=0;r<e.primaryKeyNames.length;++r)a.primaryKeyNames[r]=e.primaryKeyNames[r]}if(e.options&&(n=Object.keys(e.options)).length){a.options={};for(r=0;r<n.length;++r)a.options[n[r]]=e.options[n[r]]}return null!=e.connection&&e.hasOwnProperty("connection")&&(a.connection=e.connection),null!=e.nameKeySpace&&e.hasOwnProperty("nameKeySpace")&&(a.nameKeySpace=e.nameKeySpace),null!=e.describe&&e.hasOwnProperty("describe")&&(a.describe=e.describe),a},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),c.Roles=function(){function e(e){if(this.roles=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.roles=i.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.roles&&e.roles.length)for(var n=0;n<e.roles.length;++n)c.Role.encode(e.roles[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,a=new c.Roles;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:a.roles&&a.roles.length||(a.roles=[]),a.roles.push(c.Role.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return a},e.decodeDelimited=function(e){return e instanceof r||(e=new r(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.roles&&e.hasOwnProperty("roles")){if(!Array.isArray(e.roles))return"role: array expected";for(var t=0;t<e.roles.length;++t){var n=c.Role.verify(e.roles[t]);if(n)return"role."+n}}return null},e.fromObject=function(e){if(e instanceof c.Roles)return e;var t=new c.Roles;if(e.roles){if(!Array.isArray(e.roles))throw TypeError(".Roles.role: array expected");t.roles=[];for(var n=0;n<e.roles.length;++n){if("object"!==typeof e.roles[n])throw TypeError(".Roles.role: object expected");t.roles[n]=c.Role.fromObject(e.roles[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.roles=[]),e.roles&&e.roles.length){n.roles=[];for(var a=0;a<e.roles.length;++a)n.roles[a]=c.Role.toObject(e.roles[a],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),c.Role=function(){function e(e){if(this.options={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.memberOf="",e.prototype.saltedHash="",e.prototype.options=i.emptyObject,e.prototype.connection="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.memberOf&&Object.hasOwnProperty.call(e,"memberOf")&&t.uint32(18).string(e.memberOf),null!=e.saltedHash&&Object.hasOwnProperty.call(e,"saltedHash")&&t.uint32(26).string(e.saltedHash),null!=e.options&&Object.hasOwnProperty.call(e,"options"))for(var n=Object.keys(e.options),a=0;a<n.length;++a)t.uint32(34).fork().uint32(10).string(n[a]).uint32(18).string(e.options[n[a]]).ldelim();return null!=e.connection&&Object.hasOwnProperty.call(e,"connection")&&t.uint32(42).string(e.connection),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n,a=void 0===t?e.len:e.pos+t,o=new c.Role;e.pos<a;){var s=e.uint32();switch(s>>>3){case 1:o.name=e.string();break;case 2:o.memberOf=e.string();break;case 3:o.saltedHash=e.string();break;case 4:e.skip().pos++,o.options===i.emptyObject&&(o.options={}),n=e.string(),e.pos++,o.options[n]=e.string();break;case 5:o.connection=e.string();break;default:e.skipType(7&s)}}return o},e.decodeDelimited=function(e){return e instanceof r||(e=new r(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!i.isString(e.name))return"name: string expected";if(null!=e.memberOf&&e.hasOwnProperty("memberOf")&&!i.isString(e.memberOf))return"memberOf: string expected";if(null!=e.saltedHash&&e.hasOwnProperty("saltedHash")&&!i.isString(e.saltedHash))return"saltedHash: string expected";if(null!=e.options&&e.hasOwnProperty("options")){if(!i.isObject(e.options))return"options: object expected";for(var t=Object.keys(e.options),n=0;n<t.length;++n)if(!i.isString(e.options[t[n]]))return"options: string{k:string} expected"}return null!=e.connection&&e.hasOwnProperty("connection")&&!i.isString(e.connection)?"connection: string expected":null},e.fromObject=function(e){if(e instanceof c.Role)return e;var t=new c.Role;if(null!=e.name&&(t.name=String(e.name)),null!=e.memberOf&&(t.memberOf=String(e.memberOf)),null!=e.saltedHash&&(t.saltedHash=String(e.saltedHash)),e.options){if("object"!==typeof e.options)throw TypeError(".Role.options: object expected");t.options={};for(var n=Object.keys(e.options),a=0;a<n.length;++a)t.options[n[a]]=String(e.options[n[a]])}return null!=e.connection&&(t.connection=String(e.connection)),t},e.toObject=function(e,t){t||(t={});var n,a={};if((t.objects||t.defaults)&&(a.options={}),t.defaults&&(a.name="",a.memberOf="",a.saltedHash="",a.connection=""),null!=e.name&&e.hasOwnProperty("name")&&(a.name=e.name),null!=e.memberOf&&e.hasOwnProperty("memberOf")&&(a.memberOf=e.memberOf),null!=e.saltedHash&&e.hasOwnProperty("saltedHash")&&(a.saltedHash=e.saltedHash),e.options&&(n=Object.keys(e.options)).length){a.options={};for(var r=0;r<n.length;++r)a.options[n[r]]=e.options[n[r]]}return null!=e.connection&&e.hasOwnProperty("connection")&&(a.connection=e.connection),a},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),c.Rows=function(){function e(e){if(this.rows=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.rows=i.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.rows&&e.rows.length)for(var n=0;n<e.rows.length;++n)t.uint32(10).string(e.rows[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,a=new c.Rows;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:a.rows&&a.rows.length||(a.rows=[]),a.rows.push(e.string());break;default:e.skipType(7&o)}}return a},e.decodeDelimited=function(e){return e instanceof r||(e=new r(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.rows&&e.hasOwnProperty("rows")){if(!Array.isArray(e.rows))return"rows: array expected";for(var t=0;t<e.rows.length;++t)if(!i.isString(e.rows[t]))return"rows: string[] expected"}return null},e.fromObject=function(e){if(e instanceof c.Rows)return e;var t=new c.Rows;if(e.rows){if(!Array.isArray(e.rows))throw TypeError(".Rows.rows: array expected");t.rows=[];for(var n=0;n<e.rows.length;++n)t.rows[n]=String(e.rows[n])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.rows=[]),e.rows&&e.rows.length){n.rows=[];for(var a=0;a<e.rows.length;++a)n.rows[a]=e.rows[a]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),e.exports=c},128:function(e,t,n){e.exports=n(268)},134:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){},138:function(e,t,n){},261:function(e,t,n){},262:function(e,t,n){},263:function(e,t,n){},264:function(e,t,n){},266:function(e,t,n){},267:function(e,t,n){},268:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(37),i=n.n(o),c=n(46),s=n(66),l=n(19),u=n(20),d=n(24),p=n(23),f=n(5),m=n.n(f),y=n(12),h=function(){function e(){var t=this;Object(l.a)(this,e),this._spark="http://localhost:8080",this.exit=Object(y.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(t._spark,"/exit"));case 3:e.sent.ok||window.close(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),window.close();case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))}return Object(u.a)(e,[{key:"initialized",value:function(e){var t={method:"POST",mode:"cors",cache:"no-cache",credentials:"omit",redirect:"follow",referrerPolicy:"no-referrer"};return t.body=e,t}},{key:"getResource",value:function(){var e=Object(y.a)(m.a.mark((function e(t,n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this._spark).concat(t),n);case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(t,", received ").concat(a.status));case 5:return e.next=7,a.arrayBuffer();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"testConnection",value:function(){var e=Object(y.a)(m.a.mark((function e(t,n,a,r){var o,i,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new URL("".concat(this._spark,"/testConnection")),i={host:t,port:n,user:a,pass:r},Object.keys(i).forEach((function(e){return o.searchParams.append(e,i[e])})),e.next=4,fetch(o);case 4:if((c=e.sent).ok){e.next=7;break}throw new Error("Could not fetch ".concat(o,", received ").concat(c.status));case 7:return e.next=9,c.text();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n,a,r){return e.apply(this,arguments)}}()},{key:"getKeySpaces",value:function(){var e=Object(y.a)(m.a.mark((function e(t,n,a,r,o){var i,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=JSON.stringify({host:t,port:n,connection_alias:a,user:r,pass:o}),c=this.initialized("".concat(i)),e.next=4,this.getResource("/keyspaces",c);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,a,r,o){return e.apply(this,arguments)}}()},{key:"getKeySpace",value:function(){var e=Object(y.a)(m.a.mark((function e(t,n,a,r,o,i){var c,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=JSON.stringify({host:t,port:n,connection_alias:a,user:r,pass:o,nameKeySpace:i}),s=this.initialized("".concat(c)),e.next=4,this.getResource("/keyspaces",s);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,a,r,o,i){return e.apply(this,arguments)}}()},{key:"getTypes",value:function(){var e=Object(y.a)(m.a.mark((function e(t,n,a,r,o,i){var c,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=JSON.stringify({host:t,port:n,connection_alias:a,user:r,pass:o,nameKeySpace:i}),s=this.initialized("".concat(c)),e.next=4,this.getResource("/gettypes",s);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,a,r,o,i){return e.apply(this,arguments)}}()},{key:"getUserFunctions",value:function(){var e=Object(y.a)(m.a.mark((function e(t,n,a,r,o,i){var c,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=JSON.stringify({host:t,port:n,connection_alias:a,user:r,pass:o,nameKeySpace:i}),s=this.initialized("".concat(c)),e.next=4,this.getResource("/getfunctions",s);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,a,r,o,i){return e.apply(this,arguments)}}()},{key:"getRoles",value:function(){var e=Object(y.a)(m.a.mark((function e(t,n,a,r,o){var i,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=JSON.stringify({host:t,port:n,connection_alias:a,user:r,pass:o}),c=this.initialized("".concat(i)),e.next=4,this.getResource("/getroles",c);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,a,r,o){return e.apply(this,arguments)}}()},{key:"getTables",value:function(){var e=Object(y.a)(m.a.mark((function e(t,n,a,r,o,i){var c,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=JSON.stringify({host:t,port:n,connection_alias:a,user:r,pass:o,nameKeySpace:i}),s=this.initialized("".concat(c)),e.next=4,this.getResource("/gettables",s);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,a,r,o,i){return e.apply(this,arguments)}}()},{key:"getAggregateFunctions",value:function(){var e=Object(y.a)(m.a.mark((function e(t,n,a,r,o,i){var c,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=JSON.stringify({host:t,port:n,connection_alias:a,user:r,pass:o,nameKeySpace:i}),s=this.initialized("".concat(c)),e.next=4,this.getResource("/getaggregatefunctions",s);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,a,r,o,i){return e.apply(this,arguments)}}()},{key:"getMViews",value:function(){var e=Object(y.a)(m.a.mark((function e(t,n,a,r,o,i){var c,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=JSON.stringify({host:t,port:n,connection_alias:a,user:r,pass:o,nameKeySpace:i}),s=this.initialized("".concat(c)),e.next=4,this.getResource("/getmaterializedviews",s);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,a,r,o,i){return e.apply(this,arguments)}}()},{key:"createKeySpaces",value:function(){var e=Object(y.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.initialized(t),e.next=3,this.getResource("/createkeyspace",n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editKeySpaces",value:function(){var e=Object(y.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.initialized(t),e.next=3,this.getResource("/editkeyspace",n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dropKeySpaces",value:function(){var e=Object(y.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.initialized(t),e.next=3,this.getResource("/dropkeyspace",n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createUserType",value:function(){var e=Object(y.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.stringify(t),a=this.initialized(n),e.next=4,this.getResource("/createusertype",a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"executeQuery",value:function(){var e=Object(y.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.stringify(t),a=this.initialized(n),e.next=4,this.getResource("/executequery",a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createMV",value:function(){var e=Object(y.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.initialized(t),e.next=3,this.getResource("/creatematerializedview",n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createRole",value:function(){var e=Object(y.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.initialized(t),e.next=3,this.getResource("/createrole",n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createTable",value:function(){var e=Object(y.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.initialized(t),e.next=3,this.getResource("/createtable",n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editUserType",value:function(){var e=Object(y.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.stringify(t),a=this.initialized(n),e.next=4,this.getResource("/editusertype",a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editTable",value:function(){var e=Object(y.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.stringify(t),a=this.initialized(n),e.next=4,this.getResource("/edittable",a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRole",value:function(){var e=Object(y.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.initialized(t),e.next=3,this.getResource("/editrole",n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dropUserType",value:function(){var e=Object(y.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.initialized(t),e.next=3,this.getResource("/dropusertype",n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dropRole",value:function(){var e=Object(y.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.initialized(t),e.next=3,this.getResource("/droprole",n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dropUserFunction",value:function(){var e=Object(y.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.initialized(t),e.next=3,this.getResource("/dropuserfunction",n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dropAggregateFunction",value:function(){var e=Object(y.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.initialized(t),e.next=3,this.getResource("/dropaggregatefunction",n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dropMView",value:function(){var e=Object(y.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.initialized(t),e.next=3,this.getResource("/dropmaterializedview",n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dropTable",value:function(){var e=Object(y.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.initialized(t),e.next=3,this.getResource("/droptable",n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createUserFunction",value:function(){var e=Object(y.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.initialized(t),e.next=3,this.getResource("/createuserfunction",n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createAggregateFunction",value:function(){var e=Object(y.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.initialized(t),e.next=3,this.getResource("/createaggregatefunction",n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"disConnect",value:function(){var e=Object(y.a)(m.a.mark((function e(t){var n,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URL("".concat(this._spark,"/disconnect")),a={connection_alias:t},Object.keys(a).forEach((function(e){return n.searchParams.append(e,a[e])})),e.next=5,fetch(n);case 5:if((r=e.sent).ok){e.next=8;break}throw new Error("Could not fetch ".concat(n,", received ").concat(r.status));case 8:return e.next=10,r.text();case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"proto",value:function(){var e=Object(y.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getResource("/hello",this.initialize(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),g=(n(134),function(){return r.a.createElement("div",{className:"loadingio-spinner-rolling-q55m2voz0c"},r.a.createElement("div",{className:"ldio-c61crjbz78v"},r.a.createElement("div",null)))}),b=n(29),v=n.n(b),w=function e(){var t=this;Object(l.a)(this,e),this.get=function(e){return"undefined"===typeof e?v.a.get("_connection_"):v.a.get("_connection_").map((function(t){if(JSON.parse(t).connection_alias===e)return t})).filter((function(e){return"undefined"!==typeof e}))[0]},this.isExists=function(e){if(v.a.get("_connection_").length>0){var t=!1;return v.a.get("_connection_").forEach((function(n){JSON.parse(n).connection_alias===JSON.parse(e).connection_alias&&(t=!0)})),t}return!1},this.pushToStorage=function(e){var t=v.a.get("_connection_");t.push(e),v.a.set("_connection_",t)},this.save=function(e){if(0===v.a.get("_connection_").length)return t.pushToStorage(e),!0;if(t.isExists(e))throw new Error("Object "+e+" already exists");return t.pushToStorage(e),!0},this.saveAll=function(e){v.a.set("_connection_",e)},this.edit=function(e,n){if(0===v.a.get("_connection_").length)throw new Error("Empty localstorage");if(JSON.parse(n).connection_alias!==e&&t.isExists(n))throw new Error("Object "+n+" already exists");var a=v.a.get("_connection_").map((function(t){return JSON.parse(t).connection_alias===e?n:t}));return v.a.set("_connection_",a),!0},this.clear=function(){v.a.set("_connection_",[])},null!==localStorage.getItem("_connection_")&&"undefined"!==typeof localStorage.getItem("_connection_")||v.a.set("_connection_",[])},E=(n(135),window.$),O=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).fetchService=new h,e.storage=new w,e.state={connection_alias:"connection",host:"",port:"",connect:"No connected",loading:!1,authUser:"",authPass:"",checkerAuth:!1},e.setProperties=function(t){Array.isArray(e.storage.get())&&e.storage.get().forEach((function(n){if(t===JSON.parse(n).connection_alias){var a=JSON.parse(n),r=a.connection_alias,o=a.host,i=a.port,c=a.authUser,s=a.authPass,l=a.checkerAuth;e.setState((function(e){e.connection_alias,e.host,e.port,e.authUser,e.authPass;return{connection_alias:r,host:o,port:i,authUser:c,authPass:s,checkerAuth:l}}))}}))},e.sendTest=function(){e.setState((function(){return{loading:!0,connect:""}}));var t=e.state,n=t.host,a=t.port,r=t.authUser,o=t.authPass;e.fetchService.testConnection(n,a,r,o).then((function(t){e.setState((function(e){e.connect;return{connect:t,loading:!1}}))}))},e.clearFields=function(){e.setState((function(e){e.host,e.port,e.connect,e.authUser,e.authPass;return{host:"",port:"",connect:"",authUser:"",authPass:"",checkerAuth:!1}})),e.props.close()},e.saveConnection=function(){var t=e.props.focus,n=e.state,a=n.host,r=n.port,o=n.connection_alias,i=n.authUser,c=n.authPass,s=n.checkerAuth,l=JSON.stringify({host:a,port:r,connection_alias:o,authUser:i,authPass:c,checkerAuth:s});if("editconnection"===e.props.id)try{e.storage.edit(t,l),e.clearFields(),e.props.save(l),E("#".concat(e.props.id)).modal("hide")}catch(u){e.props.save(null),e.setState((function(e){e.connect;return{connect:"'"+o+"' already exists"}}))}else try{e.storage.save(l),e.clearFields(),e.props.save(l),E("#".concat(e.props.id)).modal("hide")}catch(u){e.props.save(null),e.setState((function(e){e.connect;return{connect:"'"+o+"' already exists"}}))}},e.onChange=function(t){var n=t.target.id,a=t.target.value;if("host"===n&&e.setState((function(e){e.host;return{host:a}})),"port"===n&&e.setState((function(e){e.port;return{port:a}})),"alias"===n&&e.setState((function(e){e.connection_alias;return{connection_alias:a}})),"auth_checkbox"===n){var r=t.target.checked;e.setState((function(e){e.checkerAuth;return{checkerAuth:r}})),document.querySelectorAll(".authForm").forEach((function(e){return e.disabled=r}))}"user_auth"===n&&e.setState((function(e){e.authUser;return{authUser:a}})),"user_pass"===n&&e.setState((function(e){e.authPass;return{authPass:a}}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){E("#".concat(this.props.id)).modal("show"),this.props.focus&&this.setProperties(this.props.focus)}},{key:"componentDidUpdate",value:function(e){(this.props.focus!==e.focus||""!==this.props.focus&&""===this.state.host)&&this.setProperties(this.props.focus)}},{key:"render",value:function(){var e,t,n=this.state,a=n.connect,o=n.host,i=n.port,c=n.loading,s=n.authPass,l=n.authUser,u=n.checkerAuth;return c&&(e=r.a.createElement(g,null)),"Connected"!==a&&(t=a.length>50?"error scroll":"error"),r.a.createElement("div",null,r.a.createElement("div",{className:"modal fade",id:this.props.id,"data-backdrop":"static","data-keyboard":"false",tabIndex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"staticBackdropLabel"},"createconnection"===this.props.id?"Create Connection":"Edit Connection"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:this.props.close},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("form",{onChange:this.onChange},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Host"),r.a.createElement("th",{scope:"col"},"Port"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("input",{type:"text",id:"host",value:o})),r.a.createElement("td",null,r.a.createElement("input",{type:"number",id:"port",value:i,min:1024,max:65535})))),r.a.createElement("div",{style:{alignContent:"flex-end"}},r.a.createElement("input",{type:"checkbox",id:"auth_checkbox",checked:u})," Use autentification"),r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement("div",null,r.a.createElement("span",null,"User")," ",r.a.createElement("input",{className:"authForm",type:"text",disabled:!u,value:""===l?"":l,style:{paddingLeft:"30%"},id:"user_auth"})),r.a.createElement("div",null,"Password ",r.a.createElement("input",{type:"password",className:"authForm",value:""===s?"":s,disabled:!u,id:"user_pass"}))),r.a.createElement("button",{onClick:this.sendTest,style:{marginTop:"5px"},id:"button",type:"button",className:"btn btn-primary float-left"},"TEST"),e),r.a.createElement("div",null,"Connection alias ",r.a.createElement("input",{type:"text",style:{marginLeft:"10px"},id:"alias",value:this.state.connection_alias})),r.a.createElement("div",{className:"valid ".concat(t)},r.a.createElement("span",null,"No connected"===a?"":a)))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:this.clearFields},"Close"),r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.saveConnection},"SAVE"))))))}}]),n}(a.Component),k=(n(136),n(137),n(138),function(e){var t=e.connections;return r.a.createElement("div",{className:"left-panel"},r.a.createElement("div",{id:"tree-container"},t))}),S=n(4),C=window.$,x=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={data:e.dataToast.result,style:e.dataToast.style},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.toastBehavior()}},{key:"toastBehavior",value:function(){var e=this;C(".toast").toast({animation:!0,delay:2e4}),C(".toast").toast("show"),C(".toast").on("hide.bs.toast",(function(){e.props.removeToast()}))}},{key:"componentDidUpdate",value:function(e){var t=this;e.dataToast!==this.props.dataToast&&(this.setState((function(){return{data:t.props.dataToast.result,style:t.props.dataToast.style}})),this.toastBehavior())}},{key:"render",value:function(){return r.a.createElement("div",{"aria-live":"polite","aria-atomic":"true",style:{position:"absolute",top:0,right:0}},r.a.createElement("div",null,r.a.createElement("div",{className:"toast",role:"alert","aria-live":"assertive","aria-atomic":"true"},r.a.createElement("div",{className:"toast-header"},r.a.createElement("strong",{className:"mr-auto"},"Result Action"),r.a.createElement("button",{type:"button",className:"ml-2 mb-1 close","data-dismiss":"toast","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"toast-body",style:this.state.style},this.state.data))))}}]),n}(a.Component),j=n(6),N=n(7),T=n(8),F=window.$,P=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;if(Object(l.a)(this,n),(a=t.call(this)).state={fields:[],modal:!1,dataForModal:"",indexFocusElement:-1,nameType:"",changed:[],action:"",process:""},a.onChange=function(e){if(e){var t=e.target.value;a.setState((function(){return{nameType:t}}))}},a.setFocus=function(e){var t=e.target.closest(".type-field").querySelector(".type-field-name");if(t&&a.state.fields.length>0){var n=T.cloneDeep(a.state.fields);n.forEach((function(e){e.focus&&delete e.focus}));var r=a.state.fields.findIndex((function(e){return e.name===t.innerHTML}));n[r].focus=!0,a.setState((function(){return{fields:n,indexFocusElement:r}}))}},a.save=function(e){if(e){var t,n=[],r=a.state,o=r.fields,i=r.indexFocusElement;if(o.length>0&&(n=T.cloneDeep(o)),"editing"===a.state.process){if("edit"===a.state.action){var c=(t=T.cloneDeep(a.state.changed)).findIndex((function(e){if(e.add)return e.add.name===n[i].name}));if(c>-1)t[c]={add:e};else{var s=t.findIndex((function(e){if(e.changeOriginal)return e.changeOriginal[1].name===n[i].name}));s>-1?t[s].changeOriginal[1]=e:t.push({changeOriginal:[n[i],e]})}}n[i]=e}else"edit"===a.state.action&&(t=T.cloneDeep(a.state.changed)).push({add:e}),n.push(e);"edit"===a.state.action?a.setState((function(){return{fields:n,modal:!1,indexFocusElement:-1,changed:t}})):a.setState((function(){return{fields:n,modal:!1,indexFocusElement:-1}}))}else a.setState((function(){return{modal:!1}}))},a.makeFields=function(e){if(0!==e.length)return e.map((function(e,t){return e.focus?r.a.createElement("tr",{className:"type-field",style:{backgroundColor:"#91dca2"}},r.a.createElement("td",{className:"type-field-name"},e.name),r.a.createElement("td",null,e.type)):r.a.createElement("tr",{className:"type-field"},r.a.createElement("td",{className:"type-field-name"},e.name),r.a.createElement("td",null,e.type))}))},a.applyType=function(){var e=a.state,t=e.nameType,n=e.fields,r=e.changed;"create"===a.props.element.action&&a.props.saveContent({nameType:t,fields:n,path:a.props.element.name,action:"create"}),"edit"===a.props.element.action&&(a.props.saveContent({nameType:t,changed:r,path:a.props.element.name,action:"edit"}),a.setState((function(){return{changed:[]}})))},a.addType=function(){var e=[];a.state.fields.length>0&&a.state.fields.forEach((function(t){e.push(t.name)}));var t={title:"New Field",field:"",type:"",excludesNames:e,action:a.props.element.action};a.setState((function(){return{modal:!0,dataForModal:t,process:"adding"}}))},a.editType=function(){var e=a.state,t=e.indexFocusElement,n=e.fields;if(t>-1){var r=n[t],o=[];n.forEach((function(e,n){n!==t&&o.push(e.name)}));var i={title:"Edit Field",field:r.name,type:r.type,excludesNames:o,action:a.props.element.action};a.setState((function(){return{modal:!0,dataForModal:i,process:"editing"}}))}},a.deleteType=function(){if(a.state.indexFocusElement>-1){var e=T.cloneDeep(a.state.fields).slice();e.splice(a.state.indexFocusElement,1),a.setState((function(){return{fields:e,indexFocusElement:-1}}))}},e.element.fields){var o="";"edit"===e.element.action&&(o=e.element.name.split(".")[2]),a.state={nameType:o,fields:e.element.fields,action:e.element.action,changed:[]}}return a}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this;if(e.element.fields!==this.props.element.fields){this.state.nameType;this.setState((function(){return{fields:t.props.element.fields}}))}}},{key:"render",value:function(){var e=this.state,t=e.fields,n=e.modal,a=e.dataForModal,o=e.nameType,i=e.action;return r.a.createElement("div",null,r.a.createElement("div",{className:"btn-toolbar",role:"toolbar","aria-label":"Toolbar with button groups"},r.a.createElement("div",{className:"btn-group mr-2",role:"group","aria-label":"First group"},r.a.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:this.applyType,disabled:0===t.length||""===o,title:"to apply type"},r.a.createElement(j.a,{icon:N.a})),r.a.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:this.addType},r.a.createElement(j.a,{icon:N.h})),r.a.createElement("button",{type:"button",className:"btn btn-outline-secondary",disabled:0===t.length,onClick:this.editType},r.a.createElement(j.a,{icon:N.d})),r.a.createElement("button",{type:"button",className:"btn btn-outline-secondary",disabled:0===t.length,hidden:"edit"===i,onClick:this.deleteType},r.a.createElement(j.a,{icon:N.f})))),r.a.createElement("div",null,r.a.createElement("span",null,"Name")," ",r.a.createElement("input",{onChange:this.onChange,value:o,disabled:"edit"===i})),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Data Type"))),r.a.createElement("tbody",{onClick:this.setFocus},this.makeFields(t))),n?r.a.createElement(A,{data:a,save:this.save}):null)}}]),n}(a.Component),A=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;Object(l.a)(this,n),(a=t.call(this)).state={title:"New Field",field:"",type:"",excludesNames:[],warn:"",action:""},a.onChange=function(e){if(e.target)try{var t=e.target.value;if("nameField"===e.target.className)if(a.state.excludesNames.includes(t))a.setWarn(t);else{var n={field:t};""!==a.state.warn&&(n.warn=""),a.setState((function(){return n}))}else a.setState((function(){return{type:t}}))}catch(e){}},a.saveField=function(e){if(e){var t={name:a.state.field,type:a.state.type};a.props.save(t)}else a.props.save()},a.getSelectList=function(e){var t=["","ascii","bigint","blob","boolean","counter","date","decimal","double","duration","float","inet","int","smallint","text","time","timestamp","timeuuid","tinyint","tuple","uuid","varchar","varint"],n=t.findIndex((function(t){return t===e.toLowerCase()}));return t.map((function(e,t){return t===n?r.a.createElement("option",{selected:!0},e):r.a.createElement("option",null,e)}))};try{a.state={title:e.data.title?e.data.title:"",field:e.data.field?e.data.field:"",type:e.data.type?e.data.type:"",excludesNames:e.data.excludesNames?e.data.excludesNames:[],warn:"",action:e.data.action?e.data.action:""}}catch(o){}return a}return Object(u.a)(n,[{key:"setWarn",value:function(e){this.setState((function(){return{warn:r.a.createElement("span",{style:{color:"red"}}," this name already uses "),field:e}}))}}]),Object(u.a)(n,[{key:"componentDidMount",value:function(){F("#support-modal").modal("show")}},{key:"render",value:function(){var e=this,t=this.state,n=t.field,a=t.type,o=t.warn,i=t.action,c=t.title,s="edit"===i&&"Edit Field"===c||"edit"===i&&"New Field"===c&&""===n,l=""===a||""!==o||""===n;return r.a.createElement("div",{className:"modal fade",id:"support-modal","data-backdrop":"static","data-keyboard":"false",tabIndex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"staticBackdropLabel"},c),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){return e.saveField()}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body",onChange:this.onChange},r.a.createElement("div",null,r.a.createElement("span",null,"Field name")," ",r.a.createElement("input",{className:"nameField",value:n}),o),r.a.createElement("div",null,r.a.createElement("span",{style:{float:"left"}},"Type"),r.a.createElement("select",{className:"custom-select mr-sm-2",disabled:s},this.getSelectList(a)))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:function(){return e.saveField()}},"Cancel"),r.a.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",disabled:l,onClick:function(){return e.saveField("save")}},"OK")))))}}]),n}(a.Component),K=n(22),_=n(11),I=n(77),D=n.n(I),R=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).validateAndMakeFunction=function(e){var t=(e=(e=(e=e.toLowerCase()).replace(/\s{2,}/g," ")).replace(/\s\n/g,"\n")).matchAll(/(create){1}[\s\n]?(or[\s\n]replace)?[\s\n]+(function){1}[\s\n]?(if[\s\n]not[\s\n]exists)?[\s\n]+([^\s\n]+)[\s\n]*(\(.*?\)[\s\n])(returns[\s\n]null|called)([\s\n]on[\s\n]null[\s\n]input[\s\n]returns[\s\n])([^\s\n]+)([\s\n]language[\s\n])([^\s\n]+)[\s\n](as[\s\n])('.+')/g);if(0===(t=Array.from(t)).length)a.setState((function(){return{warn:r.a.createElement("span",{style:{color:"red",marginLeft:20}},"Function not valid. Please change it! ")}}));else{t[0][2]&&t[0][4]&&a.setState((function(){return{warn:r.a.createElement("span",{style:{color:"red",marginLeft:20}}," OR REPLACE and IF NOT EXISTS cannot be used together. Please change it! ")}}));var n=t[0][6].replace(/\((.*)\)/g,"$1");n=n.trim();var o=t[0][5],i=!(void 0===t[0][2]),c=!(void 0===t[0][4]),s=-1!==t[0][7].indexOf("called"),l=t[0][9],u=t[0][11],d=t[0][13],p=a.props.element.name.split(".")[1],f=a.props.element.name.split(".")[0],m=_.UserFunction.encode(_.UserFunction.create({connection:f,name:o,keyspace:p,orReplace:i,ifNotExist:c,returnType:l,calledOnNullInput:s,language:u,body:d,signature:n})).finish();a.props.saveContent(m)}},e.element&&(a.state={editorState:K.EditorState.createWithContent(K.ContentState.createFromText(e.element.viewFunction)),warn:"",showButtopApply:"create"!==e.element.action},a.onChange=function(e){a.setState((function(){return{editorState:e}}))},a.setEditor=function(e){a.editor=e},a.focusEditor=function(){a.editor&&a.editor.focus()}),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.focusEditor()}},{key:"render",value:function(){var e=this,t=this.state,n=t.warn,a=t.editorState,o=t.showButtopApply;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"button",className:"btn btn-outline-success",disabled:o,onClick:function(){return e.validateAndMakeFunction(a.getCurrentContent().getPlainText())}},r.a.createElement(j.a,{icon:N.a})),n,r.a.createElement("div",{style:D.a.root,onClick:this.focusEditor},r.a.createElement(K.Editor,{customStyleMap:D.a.editor,ref:this.setEditor,editorState:a,onChange:this.onChange})))}}]),n}(a.Component),U=n(78),B=n.n(U),z=function(e){var t=e.element,n=e.saveContent,o=Object(a.useState)((function(){return K.EditorState.createWithContent(K.ContentState.createFromText(t.viewFunction))})),i=Object(S.a)(o,2),c=i[0],s=i[1],l=Object(a.useState)(""),u=Object(S.a)(l,2),d=u[0],p=u[1],f=Object(a.useState)(!1),m=Object(S.a)(f,2),y=m[0],h=m[1];Object(a.useEffect)((function(){"create"!==t.action&&h(!0)}),[t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"button",className:"btn btn-outline-success",disabled:y,onClick:function(){return function(e){try{var a=(e=(e=(e=e.toLowerCase()).replace(/\s{2,}/g," ")).replace(/\s\n/g,"\n")).matchAll(/(create){1}[\s\n]?(or[\s\n]+replace)?[\s\n]+(aggregate){1}[\s\n]?(if[\s\n]+not[\s\n]+exists)?[\s\n]+([^\s\n]+)[\s\n]*(\(.*?\))[\s\n]+(sfunc){1}[\s\n]+([^\s\n]+)[\s\n]+(stype)[\s\n]+([^\s\n]+)([\s\n]+finalfunc[\s\n]+[^\s\n]+)?([\s\n]+initcond[\s\n]+[^\s\n;]+)?/g);if(0===(a=Array.from(a)).length)p((function(){return r.a.createElement("span",{style:{color:"red",marginLeft:20}},"Function not valid. Please change it! ")}));else{a[0][2]&&a[0][4]&&p((function(){return r.a.createElement("span",{style:{color:"red",marginLeft:20}}," OR REPLACE and IF NOT EXISTS cannot be used together. Please change it! ")}));var o=a[0][6].replace(/\((.*)\)/g,"$1");o=o.trim();var i=a[0][5],c=!(void 0===a[0][2]),s=a[0][8],l=a[0][10],u=void 0===a[0][11]?"":a[0][11],d=void 0===a[0][12]?"":a[0][12].split("()")[1],f=t.name.split(".")[1],m=t.name.split(".")[0],y=_.AggregateFunction.create({connection:m,name:i,keyspace:f,orReplace:c,sFunc:s,sType:l,finalFunc:u,initCond:d,signature:o}),h=_.AggregateFunction.encode(y).finish();n(h)}}catch(g){console.log(g)}}(c.getCurrentContent().getPlainText())}},r.a.createElement(j.a,{icon:N.a})),d,r.a.createElement("div",{style:B.a.root},r.a.createElement(K.Editor,{customStyleMap:B.a.editor,editorState:c,onChange:s})))},M=n(79),L=n.n(M),V=function(e){var t=e.element,n=e.saveContent,o=Object(a.useState)((function(){return K.EditorState.createWithContent(K.ContentState.createFromText(t.viewFunction))})),i=Object(S.a)(o,2),c=i[0],s=i[1],l=Object(a.useState)(""),u=Object(S.a)(l,2),d=u[0],p=u[1],f=Object(a.useState)(!1),m=Object(S.a)(f,2),y=m[0],h=m[1];Object(a.useEffect)((function(){"create"!==t.action&&h(!0)}),[t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"button",className:"btn btn-outline-success",disabled:y,onClick:function(){return function(e){var a=(e=(e=(e=e.toLowerCase()).replace(/\s{2,}/g," ")).replace(/\s\n/g,"\n")).matchAll(/create[\s\n]+materialized[\s\n]+view[\s\n]+([a-zA-Z_0-9]+)[\s\n]+as[\s\n]+select[\s\n]+(.*)[\s\n]+from[\s\n]+([^\s\n]+)[\s\n]+where[\s\n]?(^(and)$)?[\s\n]+(([\s\n]+and[\s\n]+)??[^\s\n]+[\s\n]+is[\s\n]+not[\s\n]+null)+[\s\n]+primary[\s\n]key[\s\n]+([\s\n]?\(.*\)){1}([\s\n]+with[\s\n]+(.*)+)?/g);if(0===(a=Array.from(a)).length)p((function(){return r.a.createElement("span",{style:{color:"red",marginLeft:20}},"Function not valid. Please change it! ")}));else{var o,i=a[0][1],c=a[0][2],s=a[0][3],l=a[0][8].replace(/\((.*)\)/g,"$1"),u=a[0][9],d=t.name.split(".")[0],f=t.name.split(".")[1];l&&l.includes(",")&&(l=l.split(",")),c.trim().includes("*")&&(o=!0);var m=_.MateriliazedView.create({name:i,select:c,baseTable:s,primaryKeyNames:l,option:u,connection:d,nameKeySpace:f,includesAllColumns:o}),y=_.MateriliazedView.encode(m).finish();n(y)}}(c.getCurrentContent().getPlainText())}},r.a.createElement(j.a,{icon:N.a})),d,r.a.createElement("div",{style:L.a.root},r.a.createElement(K.Editor,{customStyleMap:L.a.editor,editorState:c,onChange:s})))},J=n(25),q=n(64),W=n(53),H=n(80),G=n.n(H),$=function(e){var t=e.element,n=new h,o=Object(a.useState)((function(){return K.EditorState.createWithContent(K.ContentState.createFromText(t.content?t.content:""))})),i=Object(S.a)(o,2),c=i[0],s=i[1],l=Object(a.useState)(t.connection),u=Object(S.a)(l,1)[0],d=Object(a.useState)([]),p=Object(S.a)(d,2),f=p[0],m=p[1],y=Object(a.useState)(null),g=Object(S.a)(y,2),b=g[0],v=g[1],w=Object(a.useState)(0),E=Object(S.a)(w,2),O=E[0],k=E[1],C=Object(a.useRef)(new W.c({defaultWidth:100,fixedHeight:!0})),x=function(e){var t=e.columnIndex,n=e.key,a=e.parent,o=e.rowIndex,i=e.style;return r.a.createElement(W.b,{cache:C.current,columnIndex:t,key:n,parent:a,rowIndex:o},r.a.createElement("div",{className:"evenRow cell",style:Object(J.a)(Object(J.a)({},i),{},{height:35,whiteSpace:"nowrap"})},f[o][t]))};return Object(a.useEffect)((function(){f.length>0&&O>0?v((function(){return r.a.createElement(W.a,{disableHeight:!0},(function(e){var t=e.width;return r.a.createElement(W.d,{className:"BodyGrid",columnCount:O,columnWidth:C.current.columnWidth,deferredMeasurementCache:C.current,height:350,overscanColumnCount:0,overscanRowCount:2,cellRenderer:x,rowCount:f.length,rowHeight:35,width:t})}))})):null!==b&&v((function(){return null}))}),[f,O]),r.a.createElement(q.a,{split:"horizontal",minSize:150},r.a.createElement("div",{className:"root",style:G.a.root},r.a.createElement("button",{"data-placement":"bottom",onClick:function(){var e={query:c.getCurrentContent().getPlainText(),connection:u};n.executeQuery(e).then((function(e){if(e instanceof ArrayBuffer){var t=new Uint8Array(e),n=_.Rows.decode(t).rows,a=[];n.map((function(e){try{var t=JSON.parse(e);a.push(t)}catch(n){a.push(e)}})),m((function(){return a})),k((function(){return a[0].length}))}})).catch((function(e){console.log(e)}))},type:"button",className:"btn btn-primary"},r.a.createElement(j.a,{icon:N.b})),r.a.createElement(K.Editor,{className:"editor",customStyleMap:G.a.editor,editorState:c,onChange:s,placeholder:"Enter query ..."})),b)},X=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},Y=(n(261),window.$),Q=function(e){var t,n=e.name,a=e.disabled,o=e.options,i=e.setName,c=e.onChangeOption;return o&&(t=o.map((function(e){return r.a.createElement("tr",{className:"option_element ".concat(e.focus?"focus":"")},r.a.createElement("td",null,r.a.createElement("span",{className:"name_option"},e.name)),r.a.createElement("td",null,r.a.createElement("input",{className:"value_option",style:{width:"100%"},value:e.value})))})),t=r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Name Option"),r.a.createElement("th",{scope:"col"},"Value"))),r.a.createElement("tbody",{onChange:function(e){return c(e)}},t))),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("span",{style:{marginLeft:10}},"Name"),r.a.createElement("input",{style:{marginLeft:10},disabled:a,value:n,onChange:function(e){return i(e.target.value)}})),t)},Z=function(e){var t=e.elements,n=e.setFocus,a=t.map((function(e){return r.a.createElement("tr",{className:"indices_element ".concat(e.focus?"focus":"")},r.a.createElement("td",null,r.a.createElement("span",{className:"name_index"},e.name)),r.a.createElement("td",null,r.a.createElement("span",{className:"index_columns"},e.column)))}));return r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Columns"))),r.a.createElement("tbody",{onClick:n},a))},ee=function(e){var t,n=e.elements,a=e.setFocus;return 0!==n.length&&(t=n.map((function(e){if(e.name)return r.a.createElement("tr",{className:"column_element ".concat(e.focus?"focus":"")},r.a.createElement("td",null,r.a.createElement("span",{className:"name_element"},e.name)),r.a.createElement("td",null,r.a.createElement("span",{className:"type_element"},e.type)),r.a.createElement("td",null,r.a.createElement("input",{type:"checkbox",checked:e.isStatic,disabled:!0,className:"static_element"})),r.a.createElement("td",null,r.a.createElement("input",{type:"checkbox",checked:e.isPartitionKey,disabled:!0,className:"partition_element"})),r.a.createElement("td",null,r.a.createElement("input",{type:"checkbox",checked:e.isClusteringKey,disabled:!0,className:"clustering_element"})))}))),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Data Type"),r.a.createElement("th",{scope:"col"},"Static"),r.a.createElement("th",{scope:"col"},"Partition Key"),r.a.createElement("th",{scope:"col"},"Clustering"))),r.a.createElement("tbody",{onClick:a},t))},te=function(e){var t=e.id,n=e.data,o=e.saveData,i=e.close,c=Object(a.useState)(""),s=Object(S.a)(c,2),l=s[0],u=s[1],d=Object(a.useState)(""),p=Object(S.a)(d,2),f=p[0],m=p[1],y=Object(a.useState)(""),h=Object(S.a)(y,2),g=h[0],b=h[1],v=Object(a.useState)(!1),w=Object(S.a)(v,2),E=w[0],O=w[1],k=Object(a.useState)(!1),C=Object(S.a)(k,2),x=C[0],j=C[1],N=Object(a.useState)(!1),T=Object(S.a)(N,2),F=T[0],P=T[1],A=Object(a.useState)(""),K=Object(S.a)(A,2),_=K[0],I=K[1],D=Object(a.useState)(""),R=Object(S.a)(D,2),U=R[0],B=R[1],z=Object(a.useState)(""),M=Object(S.a)(z,2),L=M[0],V=M[1],J=Object(a.useState)(""),q=Object(S.a)(J,2),W=q[0],H=q[1];Object(a.useEffect)((function(){if(n){var e=n.name,t=n.title,a=n.type,r=n.action,o=n.excludesNames,i=n.isPartitionKey,c=n.isClusteringKey,s=n.isStatic,l=n.process;e&&u((function(){return e})),t&&m((function(){return t})),a&&b((function(){return a})),r&&V((function(){return r})),l&&H((function(){return l})),o&&I((function(){return o})),s&&O((function(){return s})),i&&j((function(){return i})),c&&P((function(){return c}))}}),[n]);var G=function(){u((function(){return""})),b((function(){return""})),O((function(){return!1})),j((function(){return!1})),P((function(){return!1}))},$=function(){G(),i()};return r.a.createElement("div",{className:"modal fade",id:"columnsmodal".concat(t),"data-backdrop":"static","data-keyboard":"false",tabIndex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"staticBackdropLabel"},f),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){return $()}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body",onChange:function(e){var n=e.target.id,a=e.target.value,o=e.target.checked;n==="columnname".concat(t)&&(_.includes(a)?function(e){B((function(){return r.a.createElement("span",{style:{color:"red"}}," this name already uses ")})),u((function(){return e}))}(a):(""!==U&&B((function(){return""})),u((function(){return a})))),n==="select".concat(t)&&b((function(){return a})),n==="static".concat(t)&&O((function(){return o})),n==="partition".concat(t)&&(o?(j((function(){return o})),P((function(){return!o}))):j((function(){return o}))),n==="clustering".concat(t)&&(o?(P((function(){return o})),j((function(){return!o}))):P((function(){return o})))}},r.a.createElement("div",null,r.a.createElement("span",null,"Column Name")," ",r.a.createElement("input",{disabled:!x&&"editing"===W&&"edit"===L,id:"columnname".concat(t),className:"columnName",value:l}),U),r.a.createElement("div",null,r.a.createElement("span",{style:{float:"left"}},"Column Type"),r.a.createElement("select",{className:"custom-select mr-sm-2",id:"select".concat(t),disabled:"editing"===W&&"edit"===L},function(e){var t=["","ascii","bigint","blob","boolean","counter","date","decimal","double","duration","float","inet","int","smallint","text","time","timestamp","timeuuid","tinyint","tuple","uuid","varchar","varint"],n=t.findIndex((function(t){return t===e.toLowerCase()}));return t.map((function(e,t){return t===n?r.a.createElement("option",{selected:!0},e):r.a.createElement("option",null,e)}))}(g))),r.a.createElement("span",{hidden:"create"!==L},"Static   ",r.a.createElement("input",{id:"static".concat(t),type:"checkbox",checked:E})),r.a.createElement("div",null),r.a.createElement("span",{hidden:"create"!==L},"Partition Key  ",r.a.createElement("input",{id:"partition".concat(t),type:"checkbox",checked:x})),r.a.createElement("div",null),r.a.createElement("span",{hidden:"create"!==L},"Clustering Key  ",r.a.createElement("input",{id:"clustering".concat(t),type:"checkbox",checked:F}))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:function(){return $()}},"CANCEL"),r.a.createElement("button",{type:"button",className:"btn btn-primary",disabled:U||""===l||""===g,onClick:function(){return Y("#columnsmodal".concat(t)).modal("hide"),o({name:l,type:g,isStatic:E,isClusteringKey:F,isPartitionKey:x,process:W}),void G()}},"OK")))))},ne=function(e){var t=e.id,n=e.data,o=e.saveData,i=e.close,c=Object(a.useState)([]),s=Object(S.a)(c,2),l=s[0],u=s[1],d=Object(a.useState)(""),p=Object(S.a)(d,2),f=p[0],m=p[1],y=Object(a.useState)(""),h=Object(S.a)(y,2),g=h[0],b=h[1],v=Object(a.useState)(""),w=Object(S.a)(v,2),E=w[0],O=w[1],k=Object(a.useState)(!1),C=Object(S.a)(k,2),x=C[0],j=C[1],N=Object(a.useState)(!1),T=Object(S.a)(N,2),F=T[0],P=T[1],A=Object(a.useState)([]),K=Object(S.a)(A,2),_=K[0],I=K[1],D=Object(a.useState)(""),R=Object(S.a)(D,2),U=R[0],B=R[1];Object(a.useEffect)((function(){if(n){var e=n.columnsName.map((function(e,t){return r.a.createElement("option",null,e)}));e.length>0&&(m((function(){return n.columnsName[0]})),u((function(){return e}))),n.excludes&&I((function(){return n.excludes}))}}),[n]);var z=function(){u((function(){return[]})),b((function(){return""})),P((function(){return!1})),j((function(){return!1})),O((function(){return""}))},M=function(){z(),i()};return r.a.createElement("div",{className:"modal fade",id:"indicesmodal".concat(t),"data-backdrop":"static","data-keyboard":"false",tabIndex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"staticBackdropLabel"},"Confirmation"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){return M()}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body",onChange:function(e){var n=e.target.id,a=e.target.value,o=e.target.checked;n==="select_index_modal".concat(t)&&m((function(){return a})),n==="name_index".concat(t)&&(_.includes(a)?function(e){B((function(){return r.a.createElement("span",{style:{color:"red"}}," this name already uses ")})),b((function(){return e}))}(a):(""!==U&&B((function(){return""})),b((function(){return a})))),n==="name_class".concat(t)&&O((function(){return a})),n==="on_keys".concat(t)&&(o?(j((function(){return o})),P((function(){return!o}))):j((function(){return o}))),n==="on_values".concat(t)&&(o?(P((function(){return o})),j((function(){return!o}))):P((function(){return o})))}},r.a.createElement("span",null,"Field Name"),r.a.createElement("select",{className:"custom-select mr-sm-2",id:"select_index_modal".concat(t)},l),r.a.createElement("span",null,"Index Name  ",r.a.createElement("input",{id:"name_index".concat(t),value:g})," ",U),r.a.createElement("div",null),r.a.createElement("span",null,"Class Name  ",r.a.createElement("input",{id:"name_class".concat(t),value:E})),r.a.createElement("div",null),r.a.createElement("span",null,"Index on Keys ",r.a.createElement("input",{id:"on_keys".concat(t),type:"checkbox",checked:x})),r.a.createElement("div",null),r.a.createElement("span",null,"Index on Values  ",r.a.createElement("input",{id:"on_values".concat(t),type:"checkbox",checked:F}))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:function(){return M()}},"CANCEL"),r.a.createElement("button",{type:"button",className:"btn btn-primary",disabled:""===g||U,onClick:function(){return Y("#indicesmodal".concat(t)).modal("hide"),o({name:g,column:f,className:E,isIndexOnKeys:x,isIndexOnValues:F}),void z()}},"OK")))))},ae=function(e){var t=e.focus,n=e.optionDisabled,o=e.runModal,i=Object(a.useState)([]),c=Object(S.a)(i,2),s=c[0],l=c[1];return Object(a.useEffect)((function(){var e=n();if("properties"===t||"cql"===t||""===t){var a=[];a.push(r.a.createElement("div",null,r.a.createElement("button",{type:"button",disabled:e.apply,onClick:function(){return o("apply")},className:"btn btn-outline-success",title:"Apply Changes"},r.a.createElement(j.a,{icon:N.a})))),l((function(){return a}))}if("columns"===t){var i=[];i.push(r.a.createElement("div",null,r.a.createElement("button",{type:"button",disabled:e.apply,onClick:function(){return o("apply")},className:"btn btn-outline-success",title:"Apply Changes"},r.a.createElement(j.a,{icon:N.a})),r.a.createElement("button",{type:"button",disabled:e.add,onClick:function(){return o("add")},className:"btn btn-outline-secondary",title:"Add column"},r.a.createElement(j.a,{icon:N.h})),r.a.createElement("button",{type:"button",disabled:e.edit,onClick:function(){return o("edit")},className:"btn btn-outline-secondary",title:"Edit column"},r.a.createElement(j.a,{icon:N.d})),r.a.createElement("button",{type:"button",disabled:e.delete,onClick:function(){return o("delete")},className:"btn btn-outline-secondary",title:"Remove column"},r.a.createElement(j.a,{icon:N.m})))),l((function(){return i}))}if("indices"===t){var c=[];c.push(r.a.createElement("div",null,r.a.createElement("button",{type:"button",disabled:e.apply,onClick:function(){return o("apply")},className:"btn btn-outline-success",title:"Apply Changes"},r.a.createElement(j.a,{icon:N.a})),r.a.createElement("button",{type:"button",disabled:e.add,onClick:function(){return o("add")},className:"btn btn-outline-secondary",title:"Add index"},r.a.createElement(j.a,{icon:N.h})),r.a.createElement("button",{type:"button",disabled:e.delete,onClick:function(){return o("delete")},className:"btn btn-outline-secondary",title:"Delete index"},r.a.createElement(j.a,{icon:N.m})))),l((function(){return c}))}if("triggers"===t){var s=[];s.push(r.a.createElement("div",null,r.a.createElement("button",{type:"button",disabled:e.apply,onClick:function(){return o("apply")},className:"btn btn-outline-success",title:"Apply Changes"},r.a.createElement(j.a,{icon:N.a})),r.a.createElement("button",{type:"button",disabled:e.add,onClick:function(){return o("add")},className:"btn btn-outline-secondary",title:"Add trigger"},r.a.createElement(j.a,{icon:N.h})),r.a.createElement("button",{type:"button",disabled:e.delete,onClick:function(){return o("delete")},className:"btn btn-outline-secondary",title:"Delete trigger"},r.a.createElement(j.a,{icon:N.m})))),l((function(){return s}))}}),[t,n]),r.a.createElement("div",null,s)},re=function(e){var t=e.element,n=e.saveContent,o=Object(a.useState)(""),i=Object(S.a)(o,2),c=i[0],s=i[1],l=Object(a.useState)(""),u=Object(S.a)(l,2),d=u[0],p=u[1],f=Object(a.useState)(""),m=Object(S.a)(f,2),y=m[0],h=m[1],g=Object(a.useState)(-1),b=Object(S.a)(g,2),v=b[0],w=b[1],E=Object(a.useState)(-1),O=Object(S.a)(E,2),k=O[0],C=O[1],x=Object(a.useState)(""),j=Object(S.a)(x,2),N=j[0],F=j[1],P=Object(a.useState)(""),A=Object(S.a)(P,2),K=A[0],I=A[1],D=Object(a.useState)([]),R=Object(S.a)(D,2),U=R[0],B=R[1],z=Object(a.useState)([]),M=Object(S.a)(z,2),L=M[0],V=M[1],q=Object(a.useState)(""),W=Object(S.a)(q,2),H=W[0],G=W[1],$=Object(a.useState)([]),re=Object(S.a)($,2),oe=re[0],ie=re[1],ce=Object(a.useState)([]),se=Object(S.a)(ce,2),le=se[0],ue=se[1],de=Object(a.useState)([]),pe=Object(S.a)(de,2),fe=pe[0],me=pe[1];Object(a.useEffect)((function(){if(h(t.action),p(X()),"edit"===t.action&&t.table){if(I((function(){return t.table.name})),t.table.columns&&B((function(){return t.table.columns})),t.table.indices){var e=t.table.indices.map((function(e){if(void 0!==e.name)return e})).filter((function(e){return void 0!==e}));V((function(){return e}))}if(t.table.options){var n=Object.keys(t.table.options).map((function(e){if("rotation"!==e&&"id_tree_item"!==e&&"id_presentation"!==e)return{name:e,value:t.table.options[e]}})).filter((function(e){return void 0!==e}));F((function(){return n}))}}}),[]),Object(a.useEffect)((function(){Y("#prop-tab".concat(d)).tab("show")}),[d]);var ye=function(e){s((function(){return e}))},he=function(e){if("columns"===c){var t=e.target.closest(".column_element").querySelector(".name_element");if(t&&U.length>0){var n=T.cloneDeep(U);n.forEach((function(e){e.focus&&delete e.focus}));var a=n.findIndex((function(e){return e.name===t.innerHTML}));n[a].focus=!0,B((function(){return n})),w((function(){return a}))}}if("indices"===c){var r=e.target.closest(".indices_element").querySelector(".name_index");if(r&&L.length>0){var o=T.cloneDeep(L);o.forEach((function(e){e.focus&&delete e.focus}));var i=o.findIndex((function(e){return e.name===r.innerHTML}));o[i].focus=!0,V((function(){return o})),C((function(){return i}))}}},ge=function(e){if(e){if("columns"===c){var n=[];if(U.length>0&&(n=T.cloneDeep(U)),"adding"===e.process&&(n.push(e),"edit"===t.action)){var a=T.cloneDeep(fe);if(a.length>0){var r=a.findIndex((function(e){return void 0!==e.add}));r>-1?a[r].add.push(e):a.push({add:[e]})}else a.push({add:[e]});me((function(){return a}))}if("editing"===e.process){var o=n[v].name;if(n[v]=e,w((function(){return-1})),"edit"===t.action){var i=T.cloneDeep(fe);if(i.length>0){var s=i.findIndex((function(e){return void 0!==e.rename}));if(s>-1){var l=i[s].rename.findIndex((function(e){return e.to===o}));l>-1?i[s].rename[l].from===e.name?i[s].rename.splice(l,1):i[s].rename[l]=Object(J.a)(Object(J.a)({},i[s].rename[l]),{},{to:e.name}):i[s].rename.push({from:o,to:e.name})}else i.push({rename:[{from:o,to:e.name}]})}else i.push({rename:[{from:o,to:e.name}]});me((function(){return i}))}}B((function(){return n}))}if("indices"===c){var u=[];if(L.length>0&&(u=T.cloneDeep(L)),"edit"===t.action){var d=T.cloneDeep(le);if(d.length>0){var p=d.findIndex((function(e){return void 0!==e.add}));p>-1?d[p].add.push(e):d.push({add:[e]})}else d.push({add:[e]});ue((function(){return d}))}u.push(e),V((function(){return u}))}}G((function(){return""}))},be=function(){var e=[];U.length>0&&U.forEach((function(t){e.push(t.name)}));var t={title:"New Column",column:"",type:"",excludesNames:e,action:y,process:"adding"};G((function(){return t}))},ve=function(){var e=[];L.length>0&&L.forEach((function(t){e.push(t.name)}));var t={title:"New Index",name:"",columnsName:U.map((function(e){return e.name})),action:"create",excludes:e};G((function(){return t}))},we=function(){if(v>-1){var e,n=[],a=U[v];U.forEach((function(e,t){t!==v&&n.push(e.name)})),e="create"===t.action?"create":"edit";var r=Object(J.a)(Object(J.a)({},a),{},{action:e,process:"editing",title:"Edit Column",excludesNames:n});G((function(){return r}))}},Ee=function(){if(v>-1){var e=T.cloneDeep(U),t=T.cloneDeep(fe),n=e[v].name;if(t.length>0){var a=t.findIndex((function(e){return void 0!==e.add}));if(a>-1){var r=t[a].add.findIndex((function(e){return e.name===n}));if(r>-1)t[a].add.splice(r,1);else{var o=t.findIndex((function(e){return void 0!==e.delete}));o>-1?t[o].delete.push(n):t.push({delete:[n]})}}else{var i=t.findIndex((function(e){return void 0!==e.delete}));i>-1?t[i].delete.push(n):t.push({delete:[n]})}}else t.push({delete:[n]});me((function(){return t}));var c=e.slice();c.splice(v,1),B((function(){return c}))}},Oe=function(){if(k>-1){var e=T.cloneDeep(L),n=e[k].name,a=T.cloneDeep(le),r=e.slice();if("edit"===t.action){var o=a.findIndex((function(e){return void 0!==e.add}));if(o>-1){var i=a[o].add.findIndex((function(e){return e.name===n}));if(i>-1)a[k].add.splice(i,1);else{var c=a.findIndex((function(e){return void 0!==e.delete}));c>-1?a[c].delete.push(n):a.push({delete:[n]})}}else{var s=a.findIndex((function(e){return void 0!==e.delete}));s>-1?a[s].delete.push(n):a.push({delete:[n]})}}ue((function(){return a})),r.splice(k,1),V((function(){return r}))}},ke=function(){G((function(){return""}))};return""===d?null:r.a.createElement("div",null,r.a.createElement(ae,{focus:c,optionDisabled:function(){var e={apply:!1,add:!1,edit:!1,delete:!1};return K&&0!==U.length||(e.apply=!0),0===U.length&&(e.edit=!0,e.delete=!0),"indices"===c&&(0===U.length&&(e.add=!0),0===L.length&&(e.delete=!0)),e},runModal:function(e){if("columns"===c&&("add"===e&&(be(),Y("#columnsmodal".concat(d)).modal("show")),"edit"===e&&(we(),v>-1&&Y("#columnsmodal".concat(d)).modal("show")),"delete"===e&&v>-1&&Ee()),"apply"===e){if("create"===t.action){var a=t.name.split(".")[0],r=t.name.split(".")[1];L.forEach((function(e){e[r]=r}));var o=_.Table.create({name:K,columns:U,indices:L,connectionAlias:a,keyspace:r}),i=_.Table.encode(o).finish();n({finish:i,action:"create"})}if("edit"===t.action){var s=t.name.split(".")[0],l=t.name.split(".")[1];n({nameTable:K,connectionAlias:s,keyspace:l,action:"edit",changedOptions:oe,changedColumns:fe,indexsForChanged:le})}}"indices"===c&&("add"===e&&(ve(),Y("#indicesmodal".concat(d)).modal("show")),"delete"===e&&k>-1&&Oe())}}),"columns"===c?r.a.createElement(te,{id:d,data:H,saveData:ge,close:ke}):"indices"===c?r.a.createElement(ne,{id:d,data:H,saveData:ge,close:ke}):null,r.a.createElement("div",{className:"right-panel"},r.a.createElement("ul",{className:"nav nav-tabs",role:"tablist"},r.a.createElement("li",{className:"nav-item",role:"presentation"},r.a.createElement("a",{style:{padding:3,fontSize:15,fontFamily:"Apple Chancery, cursive"},className:"nav-link",id:"prop-tab".concat(d),"data-toggle":"tab",href:"#prop".concat(d),role:"tab",onClick:function(){return ye("properties")},"aria-controls":"prop".concat(d),"aria-selected":"false"},"Properties")),r.a.createElement("li",{className:"nav-item",role:"presentation"},r.a.createElement("a",{style:{padding:3,fontSize:15,fontFamily:"Apple Chancery, cursive"},className:"nav-link",id:"columns-tab".concat(d),"data-toggle":"tab",href:"#columns".concat(d),role:"tab",onClick:function(){return ye("columns")},"aria-controls":"columns".concat(d),"aria-selected":"false"},"Columns")),r.a.createElement("li",{className:"nav-item",role:"presentation"},r.a.createElement("a",{style:{padding:3,fontSize:15,fontFamily:"Apple Chancery, cursive"},className:"nav-link",id:"indices-tab".concat(d),"data-toggle":"tab",href:"#indices".concat(d),role:"tab",onClick:function(){return ye("indices")},"aria-controls":"indices".concat(d),"aria-selected":"false"},"Indices")),r.a.createElement("li",{className:"nav-item",role:"presentation"},r.a.createElement("a",{style:{padding:3,fontSize:15,fontFamily:"Apple Chancery, cursive"},className:"nav-link",id:"cql-tab".concat(d),"data-toggle":"tab",href:"#cql".concat(d),role:"tab",onClick:function(){return ye("cql")},"aria-controls":"cql".concat(d),"aria-selected":"false"},"Cql"))),r.a.createElement("div",{className:"tab-content",style:{marginTop:20,marginLeft:20,marginRight:20}},r.a.createElement("div",{className:"tab-pane fade ",id:"prop".concat(d),role:"tabpanel","aria-labelledby":"view-tab"},r.a.createElement(Q,{name:K,options:N,disabled:"create"!==y,onChangeOption:function(e){var t=e.target.closest(".option_element").querySelector(".name_option").innerHTML,n=T.cloneDeep(N),a=n.findIndex((function(e){return e.name===t})),r=e.target.value,o=N[a].value;if(o=o.replace(/\s{2,}/g," ").trim(),(r=r.replace(/\s{2,}/g," ").trim())!==o){var i=T.cloneDeep(oe);if(0!==oe.length){var c=i.findIndex((function(e){return e.name===t}));c>-1?(i[c].originValue===r?i.splice(c,1):i[c]=Object(J.a)(Object(J.a)({},i[c]),{},{name:t,value:r}),ie((function(){return i}))):(i.push({name:t,value:r,originValue:o}),ie((function(){return i})))}else i.push({name:t,value:r,originValue:o}),ie((function(){return i}));n[a]={name:t,value:r},F((function(){return n}))}},setName:I})),r.a.createElement("div",{className:"tab-pane fade ",id:"columns".concat(d),role:"tabpanel","aria-labelledby":"view-tab"},r.a.createElement(ee,{elements:U,setFocus:he})),r.a.createElement("div",{className:"tab-pane fade ",id:"indices".concat(d),role:"tabpanel","aria-labelledby":"view-tab"},r.a.createElement(Z,{elements:L,setFocus:he})),r.a.createElement("div",{className:"tab-pane fade ",id:"cql".concat(d),role:"tabpanel","aria-labelledby":"view-tab"},r.a.createElement("textarea",{className:"cqltext",disabled:!0},t.table?t.table.describe:"")))))},oe=(n(262),window.$),ie=0,ce=function(e){var t=e.dataToast,n=e.removeToast,o=e.content,i=e.saveContent,c=e.closeTabPanel,s=Object(a.useState)([null]),l=Object(S.a)(s,2),u=l[0],d=l[1],p=Object(a.useState)([null]),f=Object(S.a)(p,2),m=f[0],y=f[1],h=Object(a.useState)(!1),g=Object(S.a)(h,2),b=g[0],v=g[1];Object(a.useEffect)((function(){if(0===o.length&&null!==u[0]&&(d((function(){return[null]})),y((function(){return[null]}))),0!==o.length&&Array.isArray(o)){var e=function(){if(0!==o.length&&Array.isArray(o))return o.map((function(e,t){return null===e?null:"userType"===e.type?r.a.createElement("li",{className:"nav-item",role:"presentation",key:t},r.a.createElement("a",{style:{padding:3,fontSize:15,fontFamily:"Apple Chancery, cursive"},className:"nav-link",id:"type-tab".concat(t),"data-toggle":"tab",href:"#type".concat(t),role:"tab","aria-controls":"type".concat(t),"aria-selected":"false"},e.name,r.a.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:function(){return c("".concat(+t))}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")))):"userFunction"===e.type?r.a.createElement("li",{className:"nav-item",role:"presentation",key:t},r.a.createElement("a",{style:{padding:3,fontSize:15,fontFamily:"Apple Chancery, cursive"},className:"nav-link",id:"udf-tab".concat(t),"data-toggle":"tab",href:"#udf".concat(t),role:"tab","aria-controls":"udf".concat(t),"aria-selected":"false"},e.name,r.a.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:function(){return c("".concat(+t))}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")))):"aggregateFunction"===e.type?r.a.createElement("li",{className:"nav-item",role:"presentation",key:t},r.a.createElement("a",{style:{padding:3,fontSize:15,fontFamily:"Apple Chancery, cursive"},className:"nav-link",id:"aggregate-tab".concat(t),"data-toggle":"tab",href:"#aggregate".concat(t),role:"tab","aria-controls":"aggregate".concat(t),"aria-selected":"false"},e.name,r.a.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:function(){return c("".concat(+t))}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")))):"view"===e.type?r.a.createElement("li",{className:"nav-item",role:"presentation",key:t},r.a.createElement("a",{style:{padding:3,fontSize:15,fontFamily:"Apple Chancery, cursive"},className:"nav-link",id:"view-tab".concat(t),"data-toggle":"tab",href:"#view".concat(t),role:"tab","aria-controls":"view".concat(t),"aria-selected":"false"},e.name,r.a.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:function(){return c("".concat(+t))}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")))):"cqleditor"===e.type?r.a.createElement("li",{className:"nav-item",role:"presentation",key:t},r.a.createElement("a",{style:{padding:3,fontSize:15,fontFamily:"Apple Chancery, cursive"},className:"nav-link",id:"cqleditor-tab".concat(t),"data-toggle":"tab",href:"#cqleditor".concat(t),role:"tab","aria-controls":"cqleditor".concat(t),"aria-selected":"false"},e.name,r.a.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:function(){return c("".concat(+t))}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")))):"table"===e.type?r.a.createElement("li",{className:"nav-item",role:"presentation",key:t},r.a.createElement("a",{style:{padding:3,fontSize:15,fontFamily:"Apple Chancery, cursive"},className:"nav-link",id:"table-tab".concat(t),"data-toggle":"tab",href:"#table".concat(t),role:"tab","aria-controls":"table".concat(t),"aria-selected":"false"},e.name,r.a.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:function(){return c("".concat(+t))}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")))):null}))}(),t=function(){if(0!==o.length&&Array.isArray(o))return o.map((function(e,t){return null===e?null:"userType"===e.type?r.a.createElement("div",{className:"tab-pane fade ",id:"type".concat(t),role:"tabpanel","aria-labelledby":"types-tab"},r.a.createElement(P,{element:e,saveContent:function(e){return w(e,"".concat(+t))}})):"userFunction"===e.type?r.a.createElement("div",{className:"tab-pane fade ",id:"udf".concat(t),role:"tabpanel","aria-labelledby":"udf-tab"},r.a.createElement(R,{element:e,saveContent:function(e){return w(e,"".concat(+t))}})):"aggregateFunction"===e.type?r.a.createElement("div",{className:"tab-pane fade ",id:"aggregate".concat(t),role:"tabpanel","aria-labelledby":"aggregate-tab"},r.a.createElement(z,{element:e,saveContent:function(e){return w(e,"".concat(+t))}})):"view"===e.type?r.a.createElement("div",{className:"tab-pane fade ",id:"view".concat(t),role:"tabpanel","aria-labelledby":"view-tab"},r.a.createElement(V,{element:e,saveContent:function(e){return w(e,"".concat(+t))}})):"cqleditor"===e.type?r.a.createElement("div",{className:"tab-pane fade ",id:"cqleditor".concat(t),role:"tabpanel","aria-labelledby":"cqleditor-tab"},r.a.createElement($,{element:e,saveContent:function(e){return w(e,"".concat(+t))}})):"table"===e.type?r.a.createElement("div",{className:"tab-pane fade ",id:"table".concat(t),role:"tabpanel","aria-labelledby":"table-tab"},r.a.createElement(re,{element:e,saveContent:function(e){return w(e,"".concat(+t))}})):null}))}();d((function(){return[e]})),y((function(){return[t]})),v(!b)}}),[o]),Object(a.useEffect)((function(){if(performance.now()-ie>300){ie=performance.now();var e="";o.forEach((function(t,n){t&&""!==t.show&&(e=n)})),""!==e&&("userType"===o[e].type&&oe("#type-tab".concat(e)).tab("show"),"userFunction"===o[e].type&&oe("#udf-tab".concat(e)).tab("show"),"aggregateFunction"===o[e].type&&oe("#aggregate-tab".concat(e)).tab("show"),"view"===o[e].type&&oe("#view-tab".concat(e)).tab("show"),"cqleditor"===o[e].type&&oe("#cqleditor-tab".concat(e)).tab("show"),"table"===o[e].type&&oe("#table-tab".concat(e)).tab("show"))}}),[b]);var w=function(e,t){i(e,+t)};return r.a.createElement("div",{className:"right-panel"},t?r.a.createElement(x,{removeToast:n,dataToast:t}):null,r.a.createElement("ul",{className:"nav nav-tabs",id:"myTab",role:"tablist"},u),r.a.createElement("div",{className:"tab-content",id:"myTabContent"},m))},se=(n(263),function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.typeFocus,n=e.connected,a=e.currentConnection,o=e.setAction,i=e.connect,c=e.disconnect,s=e.createUserType,l=e.createUserFunction,u=e.createAggregateFunction,d=e.createMaterializedView,p=e.createCqlEditor,f=e.createTableHandler;return r.a.createElement("div",{className:"headerbuttons"},r.a.createElement("img",{className:"logo"}),r.a.createElement("button",{"data-placement":"bottom",title:"create connection",type:"button",className:"btn btn-primary btn-sm","data-toggle":"modal","data-target":"#createconnection",onClick:function(){return o("createconnection")}},r.a.createElement(j.a,{icon:N.g}),"+"),r.a.createElement("button",{disabled:n.includes(a)||!t,"data-placement":"bottom",title:"edit connection",onClick:function(){return o("editconnection")},type:"button",className:"btn btn-primary btn-sm","data-toggle":"modal","data-target":"#editconnection"},r.a.createElement(j.a,{icon:N.d})),r.a.createElement("button",{disabled:n.includes(a)||!t,"data-placement":"bottom",title:"delete connection",type:"button",className:"btn btn-primary",onClick:function(){return o("deleteconnection")}},r.a.createElement(j.a,{icon:N.m})),r.a.createElement("button",{"data-placement":"bottom",title:"connect",disabled:n.includes(a)||!t,type:"button",className:"btn btn-primary",onClick:i},r.a.createElement(j.a,{icon:N.e})),r.a.createElement("button",{disabled:!n.includes(a)||!t,"data-placement":"bottom",title:"disconnect",type:"button",className:"btn btn-primary",onClick:c},r.a.createElement(j.a,{icon:N.n})),r.a.createElement("button",{disabled:!n.includes(a),"data-placement":"bottom",title:"create keyspace",type:"button",className:"btn btn-primary",onClick:function(){return o("createkeyspace")}},r.a.createElement(j.a,{icon:N.i})," KS"),r.a.createElement("button",{"data-placement":"bottom",title:"create table",disabled:"tables"!==t&&"table"!==t,type:"button",className:"btn btn-primary",onClick:function(){return f()}},r.a.createElement(j.a,{icon:N.i})," Table"),r.a.createElement("button",{"data-placement":"bottom",title:"create user function",disabled:"functions"!==t&&"function"!==t,type:"button",className:"btn btn-primary",onClick:function(){return l()}},r.a.createElement(j.a,{icon:N.i})," User Func."),r.a.createElement("button",{disabled:"agfunctions"!==t&&"agfunction"!==t,"data-placement":"bottom",title:"create user aggregatin function",type:"button",className:"btn btn-primary",onClick:function(){return u()}},r.a.createElement(j.a,{icon:N.i})," User Aggregate Func."),r.a.createElement("button",{disabled:"types"!==t&&"type"!==t,"data-placement":"bottom",title:"create user type",type:"button",className:"btn btn-primary",onClick:function(){return s()}},r.a.createElement(j.a,{icon:N.i})," User Type"),r.a.createElement("button",{disabled:"views"!==t&&"view"!==t,"data-placement":"bottom",title:"create materialized view",type:"button",className:"btn btn-primary",onClick:function(){return d()}},r.a.createElement(j.a,{icon:N.i})," Materialized View"),r.a.createElement("button",{"data-placement":"bottom",title:"create user",disabled:!n.includes(a),type:"button",className:"btn btn-primary",onClick:function(){return o("createuser")}},r.a.createElement(j.a,{icon:N.i})," User"),r.a.createElement("button",{"data-placement":"bottom",title:"create role",disabled:!n.includes(a),type:"button",className:"btn btn-primary",onClick:function(){return o("createrole")}},r.a.createElement(j.a,{icon:N.i})," Role"),r.a.createElement("button",{"data-placement":"bottom",title:"cql editor",disabled:!n.includes(a),type:"button",className:"btn btn-primary",onClick:function(){return p()}},"EDITOR"),r.a.createElement("button",{"data-placement":"bottom",title:"sign out",type:"button",className:"btn btn-primary",onClick:function(){return o("signout")}},r.a.createElement(j.a,{icon:N.k})," EXIT"))}}]),n}(a.Component)),le=n(81),ue=(n(264),function(e,t){for(var n=e,a=0;a<t;a++)n=r.a.createElement("div",{className:"branch"},n);return n}),de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},c=r.a.createElement("div",{className:"tree-entry",role:n},r.a.createElement("span",{className:"tree-button"},"spinner"===o?r.a.createElement(j.a,{icon:N.l,pulse:!0}):r.a.createElement("span",{className:"tree-push ".concat(o)})),r.a.createElement("span",{className:"tree-icon ".concat(t)}),r.a.createElement("span",{className:"tree-text"},a));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",Object.assign({role:"tree-item"},i),ue(c,e)))},pe=function(e){var t=e.action,n=e.dataks;return void 0===n||null===n?"":n.map((function(e){var n=e.name,a=e.rotation,o="down"===a?{className:"show"}:{},i=e.id_tree_item,c=e.id_presentation;return r.a.createElement("ul",Object.assign({role:"group"},t),r.a.createElement("li",{role:"presentation",className:"keyspace",id:c,key:c},de(1,"keyspace","",n,a,i),r.a.createElement(ge,{data:e.tables,action:o}),r.a.createElement(ve,{data:e.userFunctions,action:o}),r.a.createElement(Ee,{data:e.aggregateFunctions,action:o}),r.a.createElement(ke,{data:e.userTypes,action:o}),r.a.createElement(xe,{data:e.views,action:o})))}))},fe=function(e){var t=e.data,n=e.action;if(void 0===t||null===t)return"";var a=t.find((function(e){return void 0===e.name})),o=a.rotation,i=a.id_tree_item,c=a.id_presentation,s="down"===o?{className:"show"}:{};return r.a.createElement("ul",Object.assign({role:"group"},n),r.a.createElement("li",{role:"presentation",className:"roles",id:c,key:c},de(1,"","","Roles ".concat(0===t.length?"":"("+(t.length-1)+")"),o,i),r.a.createElement(me,{data:t,action:s})))},me=function(e){var t=e.data,n=e.action,a=t.map((function(e){if(e.name){var t=e.name,n="spinner"===e.rotation?"spinner":"clear",a=e.id_tree_item,o=e.id_presentation;return r.a.createElement("li",{role:"presentation",className:"role",id:o,key:o},de(2,"","",t,n,a))}}));return r.a.createElement("ul",Object.assign({role:"group"},n),a)},ye=function(e){var t=e.data,n=e.action;if(void 0===t||null===t)return"";var a=t.find((function(e){return void 0===e.name})),o=a.rotation,i=a.id_tree_item,c=a.id_presentation,s="down"===o?{className:"show"}:{};return r.a.createElement("ul",Object.assign({role:"group"},n),r.a.createElement("li",{role:"presentation",className:"users",id:c,key:c},de(1,"","","Users ".concat(0===t.length?"":"("+(t.length-1)+")"),o,i),r.a.createElement(he,{data:t,action:s})))},he=function(e){var t=e.data,n=e.action,a=t.map((function(e){if(e.name){var t=e.name,n="spinner"===e.rotation?"spinner":"clear",a=e.id_tree_item,o=e.id_presentation;return r.a.createElement("li",{role:"presentation",className:"user",id:o,key:o},de(2,"","",t,n,a))}}));return r.a.createElement("ul",Object.assign({role:"group"},n),a)},ge=function(e){var t=e.data,n=e.action,a=t.find((function(e){return void 0===e.name})),o=a.rotation,i=a.id_tree_item,c=a.id_presentation,s="down"===o?{className:"show"}:{};return r.a.createElement("ul",Object.assign({role:"group"},n),r.a.createElement("li",{role:"presentation",className:"tables",id:c,key:c},de(3,"","","Tables ".concat(0===t.length?"":"("+(t.length-1)+")"),o,i),r.a.createElement(be,{data:t,action:s})))},be=function(e){var t=e.data,n=e.action,a=t.map((function(e){if(e.name){var t=e.name,n=e.rotation,a="down"===n?{className:"show"}:{},o=e.id_tree_item,i=e.id_presentation;return r.a.createElement("li",{role:"presentation",className:"table",id:i,key:i},de(4,"","",t,n,o),r.a.createElement(Ne,{data:e.columns,action:a}))}}));return r.a.createElement("ul",Object.assign({role:"group"},n),a)},ve=function(e){var t=e.data,n=e.action,a=t.find((function(e){return void 0===e.name})),o=a.rotation,i=a.id_tree_item,c=a.id_presentation,s="down"===o?{className:"show"}:{};return r.a.createElement("ul",Object.assign({role:"group"},n),r.a.createElement("li",{role:"presentation",className:"functions",id:c,key:c},de(3,"","","User Defined Functions ".concat(0===t.length?"":"("+(t.length-1)+")"),o,i),r.a.createElement(we,{data:t,action:s})))},we=function(e){var t=e.data,n=e.action,a=t.map((function(e){if(e.name){var t=e.name,n="spinner"===e.rotation?"spinner":"clear",a=e.id_tree_item,o=e.id_presentation;return r.a.createElement("li",{role:"presentation",className:"function",id:o,key:o},de(5,"","",t.split("(")[0],n,a))}}));return r.a.createElement("ul",Object.assign({role:"group"},n),a)},Ee=function(e){var t=e.data,n=e.action,a=t.find((function(e){return void 0===e.name})),o=a.rotation,i=a.id_tree_item,c=a.id_presentation,s="down"===o?{className:"show"}:{};return r.a.createElement("ul",Object.assign({role:"group"},n),r.a.createElement("li",{role:"presentation",className:"agfunctions",id:c,key:c},de(3,"","","Aggregate Functions ".concat(0===t.length?"":"("+(t.length-1)+")"),o,i),r.a.createElement(Oe,{data:t,action:s})))},Oe=function(e){var t=e.data,n=e.action,a=t.map((function(e){if(e.name){var t=e.name,n="spinner"===e.rotation?"spinner":"clear",a=e.id_tree_item,o=e.id_presentation;return r.a.createElement("li",{role:"presentation",className:"agfunction",id:o,key:o},de(5,"","",t,n,a))}}));return r.a.createElement("ul",Object.assign({role:"group"},n),a)},ke=function(e){var t=e.data,n=e.action,a=t.find((function(e){return void 0===e.name})),o=a.rotation,i=a.id_tree_item,c=a.id_presentation,s="down"===o?{className:"show"}:{};return r.a.createElement("ul",Object.assign({role:"group"},n),r.a.createElement("li",{role:"presentation",className:"types",id:c,key:c},de(3,"","","User Types ".concat(0===t.length?"":"("+(t.length-1)+")"),o,i),r.a.createElement(Se,{data:t,action:s})))},Se=function(e){var t=e.data,n=e.action,a=t.map((function(e){if(e.name){var t=e.name,n=e.rotation,a="down"===n?{className:"show"}:{},o=e.id_tree_item,i=e.id_presentation;return r.a.createElement("li",{role:"presentation",className:"type",id:i,key:i},de(4,"","",t,n,o),r.a.createElement(Ce,{data:e.fields,action:a}))}}));return r.a.createElement("ul",Object.assign({role:"group"},n),a)},Ce=function(e){var t=e.data,n=e.action,a=t.map((function(e){if(e.name){var t=e.name,n=e.type,a=e.id_tree_item,o=e.id_presentation;return r.a.createElement("li",{role:"presentation",className:"field",id:o,key:o},de(6,"","",r.a.createElement(r.a.Fragment,null,t," ",r.a.createElement("span",{className:"type-column"},n)),"clear",a))}}));return r.a.createElement("ul",Object.assign({role:"group"},n),a)},xe=function(e){var t=e.data,n=e.action,a=t.find((function(e){return void 0===e.name})),o=a.rotation,i=a.id_tree_item,c=a.id_presentation,s="down"===o?{className:"show"}:{};return r.a.createElement("ul",Object.assign({role:"group"},n),r.a.createElement("li",{role:"presentation",className:"views",id:c,key:c},de(3,"","","Materialized Views ".concat(0===t.length?"":"("+(t.length-1)+")"),o,i),r.a.createElement(je,{data:t,action:s})))},je=function(e){var t=e.data,n=e.action,a=t.map((function(e){if(e.name){var t=e.name,n="spinner"===e.rotation?"spinner":"clear",a=e.id_tree_item,o=e.id_presentation;return r.a.createElement("li",{role:"presentation",className:"view",id:o,key:o},de(5,"","",t,n,a))}}));return r.a.createElement("ul",Object.assign({role:"group"},n),a)},Ne=function(e){var t=e.data,n=e.action,a=t.map((function(e){if(e.name){var t=e.name,n=e.type,a=e.id_tree_item,o=e.id_presentation;return r.a.createElement("li",{role:"presentation",className:"column",id:o,key:o},de(5,"","",r.a.createElement(r.a.Fragment,null,t," ",r.a.createElement("span",{className:"type-column"},n)),"clear",a))}}));return r.a.createElement("ul",Object.assign({role:"group"},n),a)},Te=function(e){var t=e.data;if(void 0===t||null===t)return"";var n=t.connection_alias,a=t.rotation,o="down"===a?{className:"show"}:{},i=t.id_tree_item,c=t.id_presentation;return r.a.createElement("li",{className:"connection",role:"presentation",id:c,key:c},de(0,"connection-icon","",n,a,i),r.a.createElement(pe,{action:o,dataks:t.keyspaces?t.keyspaces:null}),r.a.createElement(fe,{action:o,data:t.roles?t.roles:null}),r.a.createElement(ye,{action:o,data:t.users?t.users:null}))},Fe=(n(265),n(266),function(e){var t=e.data,n=e.style,o=Object(a.useState)({}),i=Object(S.a)(o,2),c=i[0],s=i[1],l=Object(a.useCallback)((function(e){if(null!==e){var t=window.innerHeight,a=e.getBoundingClientRect().height,r={left:n.left,top:a+n.top>t?t-a-5:n.top};s((function(){return r}))}}),[n]);if(void 0!==t){var u=t.map((function(e,t){if(""!==e){if("dropdown-divider"===e)return r.a.createElement("div",{className:"dropdown-divider"});if(e instanceof Object){var n=e["Generate Command"].map((function(e){return r.a.createElement("li",{className:"context-menu__item",key:t},r.a.createElement("span",{className:"context-menu__item_text"},e))}));return r.a.createElement("li",{className:"dropdown dropup context-menu__item",key:t},r.a.createElement("div",{className:"dropdown-toggle",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},r.a.createElement("span",{className:"context-menu__item_text"},"Generate Command")),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},n))}return r.a.createElement("li",{className:"context-menu__item",key:t},r.a.createElement(j.a,{icon:N.c,pulse:!1}),r.a.createElement("span",{className:"context-menu__item_text"},e))}}));return r.a.createElement("nav",{ref:l,className:"context-menu",style:c||null},r.a.createElement("ul",{className:"context-menu__items"},u))}return null}),Pe=(n(267),window.$),Ae=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={title:"",id:"",nameKS:"",strategy:"",repl_factor:"",durable_writes:!1,focus:"",dcElements:[],warn:"",excludes:[]},e.onChange=function(t){var n=t.target.id,a=t.target.value;if("nameKS"===n&&(e.state.excludes.includes(a)?e.setWarn(a):e.setState((function(){return{nameKS:a,warn:""}}))),"simple"!==n&&"topology"!==n||e.setState((function(){return{strategy:n}})),"repl_factor"===n&&e.setState((function(){return{repl_factor:a}})),"durable_writes"===n){var r=t.target.checked;e.setState((function(){return{durable_writes:r}}))}if(t.target.closest(".dcelement")){var o=+t.target.closest(".dcelement").id;if(0!==e.state.dcElements.length){var i,s=e.state.dcElements[o];"name_dcelement"===t.target.className&&(i=Object(J.a)(Object(J.a)({},s),{},{dc:t.target.value})),"count_dcelement"===t.target.className&&(i=Object(J.a)(Object(J.a)({},s),{},{number:t.target.value}));var l=e.state.dcElements.slice(0,o),u=e.state.dcElements.slice(o+1),d=[].concat(Object(c.a)(l),[i],Object(c.a)(u));e.setState((function(){return{dcElements:d}}))}}},e.handleActionButton=function(t){var n=t.target.closest(".btn");if("addbutton"===n.id){if(!(e.state.dcElements instanceof Array))return;var a=e.state.dcElements.slice();a.push({dc:"dc",number:2}),e.setState((function(){return{dcElements:a,focus:""}}))}if("removebutton"!==n.id);else if(""!==e.state.focus&&0!==e.state.dcElements.length){var r=e.state.dcElements.slice(0,e.state.focus),o=e.state.dcElements.slice(e.state.focus+1),i=[].concat(Object(c.a)(r),Object(c.a)(o)),s=e.state.focus;e.setState((function(){return{dcElements:i,focus:--s}}))}},e.makeElements=function(e){if(0!==e.length)return e.map((function(e,t){return r.a.createElement("tr",{id:t,className:"dcelement"},r.a.createElement("td",null,r.a.createElement("input",{className:"name_dcelement",value:e.dc})),r.a.createElement("td",null,r.a.createElement("input",{className:"count_dcelement",type:"number",value:+e.number})))}))},e.setFocus=function(t){var n=t.target.closest(".dcelement");if(n){var a=n.id;document.querySelector(".dcelement.focus")&&document.querySelector(".dcelement.focus").classList.toggle("focus"),n.classList.toggle("focus"),e.setState((function(){return{focus:+a}}))}},e.closeModal=function(){e.setState((function(){return{title:"",id:"",nameKS:"",strategy:"",repl_factor:"",durable_writes:!1,focus:"",dcElements:[],warn:""}})),e.props.close()},e.createKS=function(){var t,n=e.state,a=n.repl_factor,r=n.nameKS,o=n.durable_writes,i=n.dcElements;if("simple"===e.state.strategy){var c=new Map;c.set("class","simple"),c.set("replication_factor",a+""),t={name:r,durableWrites:o,replication:Object.fromEntries(c.entries())}}else if("topology"===e.state.strategy){var s=new Map;s.set("class","topology"),0!==i.length&&i.forEach((function(e){s.set(e.dc,e.number+"")})),t={name:r,durableWrites:o,replication:Object.fromEntries(s.entries())}}e.props.createKS(t)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;if(Pe("#".concat(this.props.id)).modal("show"),this.props.objectForEdit&&this.props.objectForEdit.replication){var t="",n="",a=[];this.props.objectForEdit.replication.class.includes("Simple")?(t="simple",n=+this.props.objectForEdit.replication.replication_factor):(t="topology",Object.keys(this.props.objectForEdit.replication).forEach((function(t){"class"!==t&&a.push({dc:t,number:+e.props.objectForEdit.replication[t]})}))),this.setState((function(){return{durable_writes:e.props.objectForEdit.durableWrites,nameKS:e.props.objectForEdit.name,strategy:t,repl_factor:n,dcElements:a}}))}this.props.excludes&&this.setState((function(){return{excludes:e.props.excludes}}))}},{key:"render",value:function(){var e=this.state,t=e.strategy,n=e.nameKS,a=e.repl_factor,o=e.durable_writes,i=e.dcElements,c=e.warn;return r.a.createElement("div",{className:"modal fade",id:this.props.id,"data-backdrop":"static","data-keyboard":"false",tabIndex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"staticBackdropLabel"},"createkeyspace"===this.props.id?"Create Keyspace":"Edit Keyspace"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:this.props.close},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("form",{onChange:this.onChange},r.a.createElement("div",null,r.a.createElement("span",null,"Keyspace name")," ",r.a.createElement("input",{id:"nameKS",value:n,disabled:"createkeyspace"!==this.props.id}),c),r.a.createElement("input",{type:"radio",name:"strategy",id:"simple",checked:"simple"===t}),r.a.createElement("label",{htmlFor:"simple"},"Use simple strategy"),r.a.createElement("div",null,r.a.createElement("span",null,"Replication factor")," ",r.a.createElement("input",{style:{width:"50px",marginLeft:"10px"},disabled:"simple"!==t,type:"number",id:"repl_factor",value:a})),r.a.createElement("input",{type:"radio",name:"strategy",id:"topology",checked:"topology"===t}),r.a.createElement("label",{htmlFor:"topology"},"Use network topology strategy"),r.a.createElement("table",{className:"table",hidden:"topology"!==t,onClick:this.setFocus},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Data Center"),r.a.createElement("th",{scope:"col"},"Number of replicas"))),r.a.createElement("tbody",null,this.makeElements(i))),r.a.createElement("div",{hidden:"topology"!==t},r.a.createElement("div",{className:"dropdown-divider"}),r.a.createElement("button",{type:"button",className:"btn btn-outline-success",style:{marginLeft:"10px"},id:"addbutton",onClick:this.handleActionButton},r.a.createElement(j.a,{icon:N.h})),r.a.createElement("button",{type:"button",className:"btn btn-outline-warning",style:{marginLeft:"10px"},id:"removebutton",onClick:this.handleActionButton},r.a.createElement(j.a,{icon:N.m})),r.a.createElement("div",{className:"dropdown-divider"})),r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",checked:o,id:"durable_writes"})," ",r.a.createElement("label",{htmlFor:"durable_writes"},"Durable writes")))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{onClick:this.closeModal,type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.createKS,disabled:""===t||c},"Save")))))}},{key:"setWarn",value:function(e){this.setState((function(){return{warn:r.a.createElement("span",{style:{color:"red",fontSize:12}},"this keyspace already exists"),nameKS:e}}))}}]),n}(a.Component),Ke=P,_e=R,Ie=window.$,De=function(e){var t=e.id,n=e.close,o=e.exclud,i=e.connect,c=e.save,s=e.roleForEdit,l=new h,u=Object(a.useState)(""),d=Object(S.a)(u,2),p=d[0],f=d[1],m=Object(a.useState)(""),y=Object(S.a)(m,2),g=y[0],b=y[1],v=Object(a.useState)(""),w=Object(S.a)(v,2),E=w[0],O=w[1],k=Object(a.useState)(""),C=Object(S.a)(k,2),x=C[0],j=C[1],N=Object(a.useState)(""),T=Object(S.a)(N,2),F=T[0],P=T[1],A=Object(a.useState)(""),K=Object(S.a)(A,2),I=K[0],D=K[1],R=Object(a.useState)(!1),U=Object(S.a)(R,2),B=U[0],z=U[1],M=Object(a.useState)(!1),L=Object(S.a)(M,2),V=L[0],J=L[1],q=Object(a.useState)(!1),W=Object(S.a)(q,2),H=W[0],G=W[1],$=Object(a.useState)(""),X=Object(S.a)($,2),Y=X[0],Q=X[1],Z=Object(a.useState)(""),ee=Object(S.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(""),re=Object(S.a)(ae,2),oe=re[0],ie=re[1];Object(a.useEffect)((function(){if(Ie("#".concat(t)).modal("show"),G(i),"createrole"===t||"createuser"===t)"createuser"===t&&ie("Create User"),"createrole"===t&&ie("Create Role"),j((function(){return o}));else if("edituser"===t&&ie("Edit User"),"editrole"===t&&ie("Edit Role"),j((function(){return o})),f(s.name),s.options){var e=new Map(Object.entries(s.options));e.has("login")&&"true"===e.get("login")&&J(!0),e.has("superuser")&&"true"===e.get("superuser")&&z(!0)}}),[]),Object(a.useEffect)((function(){g&&E?D(g!==E?function(){return r.a.createElement("span",{style:{color:"red",fontSize:12}},"passwords not equals")}:function(){return""}):""!==I&&D((function(){return""}))}),[g,E]);var ce=function(){var e={};e.password=g,"createuser"===t&&(e.login="true"),"edituser"!==t&&"createuser"!==t&&(e.login=V+""),e.superuser=B+"";var n=_.Role.create({name:p,connection:H,options:e}),a=_.Role.encode(n).finish();(function(e,t){return"createrole"===e||"createuser"===e?l.createRole(t):"editrole"===e||"edituser"===e?l.editRole(t):void 0})(t,a).then((function(e){try{if(e instanceof ArrayBuffer){var n=new TextDecoder("utf-8").decode(e);n.includes("successfully")?(ne((function(){return""})),Q((function(){return n})),setTimeout((function(){c(t)}),1e3)):(ne((function(){return"error scroll"})),Q((function(){return n})))}}catch(r){var a=new TextDecoder("utf-8").decode(e);a.length>50?ne((function(){return"error scroll"})):ne((function(){return"error"})),Q((function(){return a}))}})).catch((function(e){var t=new TextDecoder("utf-8").decode(e);t.length>50?ne((function(){return"error scroll"})):ne((function(){return"error"})),Q((function(){return t}))}))};return r.a.createElement("div",{className:"modal fade",id:t,"data-backdrop":"static","data-keyboard":"false",tabIndex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"staticBackdropLabel"},oe),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:n},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("form",{onChange:function(e){var t=e.target.id,n=e.target.value;if("nameRole"===t&&(x.includes(n)?function(e){P((function(){return r.a.createElement("span",{style:{color:"red",fontSize:12}},"this role already exists")})),f((function(){return e}))}(n):(P((function(){return""})),f((function(){return n})))),"super_user"===t){var a=e.target.checked;z((function(){return a}))}if("can_login"===t){var o=e.target.checked;J((function(){return o}))}"password"===t&&b((function(){return n})),"confirm_password"===t&&O((function(){return n}))}},r.a.createElement("div",null,r.a.createElement("span",null,"Role name")," ",r.a.createElement("input",{id:"nameRole",value:p,disabled:"createrole"!==t&&"createuser"!==t}),F),r.a.createElement("div",null,r.a.createElement("span",null,"Password")," ",r.a.createElement("input",{id:"password",type:"password",value:g}),I),r.a.createElement("div",null,r.a.createElement("span",null,"Confirm Password")," ",r.a.createElement("input",{id:"confirm_password",type:"password",value:E}),I),r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",checked:B,id:"super_user"})," ",r.a.createElement("label",{htmlFor:"super_user"},"Superuser")),r.a.createElement("div",{hidden:"createuser"===t},r.a.createElement("input",{type:"checkbox",checked:V,id:"can_login"})," ",r.a.createElement("label",{htmlFor:"can_login"},"Can login")),r.a.createElement("div",{className:"valid ".concat(te)},Y))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{onClick:function(){return n()},type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return ce()},disabled:F||""===p},"Save")))))},Re=window.$,Ue=function(e){var t=e.textToConfirm,n=e.killerFunction,o=e.close;Object(a.useEffect)((function(){Re("#confirmation-modal").modal("show")}),[]);return r.a.createElement("div",{className:"modal fade",id:"confirmation-modal","data-backdrop":"static","data-keyboard":"false",tabIndex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"staticBackdropLabel"},"Confirmation"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){return o()}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("span",{style:{float:"left",marginRight:30}},r.a.createElement(j.a,{icon:N.j})),t),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:function(){return o()}},"NO"),r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return function(e){Re("#confirmation-modal").modal("hide"),e()}(n)}},"YES")))))},Be=window.$,ze=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={connections:new Map,rightPanelContent:[],action:"",focusId:"",focus:"",typeFocus:"",currentConnection:"",currentKeyspace:"",connected:[],showcontext:!1,stylecontext:"",dataContext:[],toast:"",dataToast:"",result:"",loading:!1},e.storage=new w,e.service=new h,e.getListConnections=function(){var t=e.state.connections;if(t){var n=[];return t.forEach((function(e,t){""!==e&&n.push(r.a.createElement(Te,{data:e}))})),n}},e.makeConnectionWithChangedProps=function(){var t,n=e.storage.get();if(n){t=0!==e.state.connections.length?new Map(e.state.connections):new Map;try{n.forEach((function(n){var a,r=(a=n instanceof Object?n:JSON.parse(n)).connection_alias;t.has(r)&&(a=t.get(r)),e.addAdditionalProperties(a),t.set(r,a)}))}catch(a){}}return t},e.makeContextData=function(t){return"connection"===t?["".concat(e.state.connected.includes(e.state.currentConnection)?"Create new Keyspace":""),"CqlEditor","".concat(e.state.connected.includes(e.state.currentConnection)?"Disconnect":"Connect")]:"keyspace"===t?["Create new Table","dropdown-divider","Create new Keyspace","Edit '".concat(e.state.focus,"' Keyspace"),"Delete '".concat(e.state.focus,"' Keyspace"),"dropdown-divider","CqlEditor","dropdown-divider","".concat(e.state.connected.includes(e.state.currentConnection)?"Disconnect":"Connect")]:"tables"===t?["Create new Table"]:"table"===t?["Create new Table","Edit '".concat(e.state.focus,"' Table"),"Delete '".concat(e.state.focus,"' Table"),{"Generate Command":["select * from ","insert into to","delete from","create index"]}]:"types"===t?["Create new User Type"]:"type"===t?["Create new User Type","Edit '".concat(e.state.focus,"' User Type"),"Delete '".concat(e.state.focus,"' User Type"),{"Generate Command":["create type to","drop type to"]}]:"roles"===t?["Create new Role"]:"role"===t?["Create new Role","Edit '".concat(e.state.focus,"' Role"),"Delete '".concat(e.state.focus,"' Role")]:"users"===t?["Create new User User"]:"user"===t?["Create new User ","Edit '".concat(e.state.focus,"' User"),"Delete '".concat(e.state.focus,"' User")]:"agfunctions"===t?["Create new Aggregate Function"]:"agfunction"===t?["Create new Aggregate Function","Show '".concat(e.state.focus,"' Aggregate Function"),"Delete '".concat(e.state.focus,"' Aggregate Function")]:"functions"===t?["Create new User Defined Function"]:"function"===t?["Create new User Defined Function","Show '".concat(e.state.focus,"' User Defined Function"),"Delete '".concat(e.state.focus,"' User Defined Function")]:"views"===t?["Create new Materialized View"]:"view"===t?["Create new Materialized View","Show '".concat(e.state.focus,"' Materialized View"),"Delete '".concat(e.state.focus,"' Materialized View"),{"Generate Command":["select * from","create materialized view","drop materialized view to"]}]:void 0},e.createUserType=function(){var t={type:"userType",action:"create",show:"show active",fields:[],name:e.state.currentConnection+"."+e.state.currentKeyspace+".New User Type"};e.pushToRightPanel(t)},e.createUserFunction=function(){var t={type:"userFunction",action:"create",show:"show active",viewFunction:"CREATE OR REPLACE FUNCTION function3 ()\nRETURNS NULL ON NULL INPUT\nRETURNS text\nLANGUAGE java\nAS 'return \"\";';",name:e.state.currentConnection+"."+e.state.currentKeyspace+".New UDF"};e.pushToRightPanel(t)},e.createAggregateFunction=function(){var t={type:"aggregateFunction",action:"create",show:"show active",viewFunction:"CREATE OR REPLACE AGGREGATE aggregate ()\nSFUNC\nSTYPE text\nINITCOND ;",name:e.state.currentConnection+"."+e.state.currentKeyspace+".New Aggregate"};e.pushToRightPanel(t)},e.createMateralizedView=function(){var t={type:"view",action:"create",show:"show active",viewFunction:"CREATE MATERIALIZED VIEW view \nAS SELECT\nFROM\nWHERE\nPRIMARY KEY ()\nWITH",name:e.state.currentConnection+"."+e.state.currentKeyspace+".New View"};e.pushToRightPanel(t)},e.createCqlEditor=function(t){var n={connection:e.state.currentConnection,type:"cqleditor",action:"create",show:"show active",content:t,name:"CQLEditor"};e.pushToRightPanel(n)},e.createTableHandler=function(){var t={type:"table",action:"create",show:"show active",name:e.state.currentConnection+"."+e.state.currentKeyspace+".New Table"};e.pushToRightPanel(t)},e.editTableHandler=function(t){var n={type:"table",action:"edit",show:"show active",table:t,name:e.state.currentConnection+"."+e.state.currentKeyspace+"."+t.name};e.pushToRightPanel(n)},e.showUserFunction=function(){var t=e.state,n=t.focusId,a=t.connections,r=t.currentConnection,o=a.get(r),i=e.findById(o,"id_presentation",n),c=T.cloneDeep(i),s=c.name,l=c.calledOnNullInput,u=c.returnType,d=c.language,p=c.body,f=c.signature,m="RETURNS NULL";l&&(m="CALLED ");var y={type:"userFunction",action:"show",show:"show active",viewFunction:"CREATE OR REPLACE FUNCTION ".concat(f,"\n").concat(m," NULL ON NULL INPUT\nRETURNS ").concat(u,"\nLANGUAGE ").concat(d,"\nAS '").concat(p,"'"),name:e.state.currentConnection+"."+e.state.currentKeyspace+".".concat(s)};e.pushToRightPanel(y)},e.showAggregateFunction=function(){var t=e.state,n=t.focusId,a=t.connections,r=t.currentConnection,o=a.get(r),i=e.findById(o,"id_presentation",n),c=T.cloneDeep(i),s=c.name,l=c.sFunc,u=c.sType,d=c.finalFunc?"FINALFUNC "+c.finalFunc:"",p=c.initCond?"INITCOND "+c.initCond:"",f=c.orReplace?"OR REPLACE":"",m=c.signature,y=c.ifNotExist?"IF NOT EXISTS":"",h={type:"aggregateFunction",action:"show",show:"show active",viewFunction:"CREATE ".concat(f," AGGREGATE ").concat(y," ").concat(m,"\nSFUNC ").concat(l,"\nSTYPE ").concat(u,"\n").concat(d,"\n").concat(p),name:e.state.currentConnection+"."+e.state.currentKeyspace+".".concat(s)};e.pushToRightPanel(h)},e.showMaterializedView=function(){var t=e.state,n=t.focusId,a=t.connections,r=t.currentConnection,o=a.get(r),i=e.findById(o,"id_presentation",n),c=T.cloneDeep(i),s=c.name,l=c.describe.indexOf("WITH"),u={type:"view",action:"show",show:"show active",viewFunction:c.describe.substring(0,l),name:e.state.currentConnection+"."+e.state.currentKeyspace+".".concat(s)};e.pushToRightPanel(u)},e.findById=function(t,n,a){if(t[n]===a)return t;for(var r=0,o=Object.values(t);r<o.length;r++){var i=o[r];if(Array.isArray(i)){var c,l=Object(s.a)(i);try{for(l.s();!(c=l.n()).done;){var u=c.value,d=e.findById(u,n,a);if(d)return d}}catch(p){l.e(p)}finally{l.f()}}}},e.editUserType=function(){var t=e.state,n=t.focusId,a=t.connections,r=t.currentConnection,o=a.get(r),i=e.findById(o,"id_presentation",n),c=[];i.fields.map((function(e){if(e.name){var t={name:e.name,type:e.type};c.push(t)}}));var s={type:"userType",action:"edit",fields:c,show:"show active",name:"".concat(e.state.currentConnection,".").concat(e.state.currentKeyspace,".").concat(i.name)};e.pushToRightPanel(s)},e.executeContextMenuAction=function(t){var n=e.state,a=n.typeFocus,r=n.focusId,o=n.currentConnection,i=n.connections,c=n.focus,s=n.currentKeyspace;if(0===t.indexOf("Generate"));else if(0===t.indexOf("Create"))"role"!==a&&"roles"!==a||e.setState((function(){return{action:"createrole"}})),"user"!==a&&"users"!==a||e.setState((function(){return{action:"createuser"}})),"type"!==a&&"types"!==a||e.createUserType(),"function"!==a&&"functions"!==a||e.createUserFunction(),"agfunction"!==a&&"agfunctions"!==a||e.createAggregateFunction(),"table"!==a&&"tables"!==a||e.createTableHandler(),"view"!==a&&"views"!==a||e.createMateralizedView();else if(0===t.indexOf("Show"))"function"===a&&e.showUserFunction(),"agfunction"===a&&e.showAggregateFunction(),"view"===a&&e.showMaterializedView();else if(0===t.indexOf("Edit")){if("keyspace"===a&&e.setState((function(){return{action:"editkeyspace"}})),"type"===a&&e.editUserType(),"role"===a&&e.setState((function(){return{action:"editrole"}})),"user"===a&&e.setState((function(){return{action:"edituser"}})),"table"===a){var l=i.get(o),u=e.findById(l,"id_presentation",r);T.cloneDeep(u)&&e.editTableHandler(u)}}else if(0===t.indexOf("Delete"))"keyspace"===a&&e.setState((function(){return{action:"dropkeyspace"}})),"type"===a&&e.setState((function(){return{action:"droptype"}})),"function"===a&&e.setState((function(){return{action:"dropfunction"}})),"agfunction"===a&&e.setState((function(){return{action:"dropagfunction"}})),"view"===a&&e.setState((function(){return{action:"dropview"}})),"role"===a&&e.setState((function(){return{action:"droprole"}})),"user"===a&&e.setState((function(){return{action:"dropuser"}})),"table"===a&&e.setState((function(){return{action:"droptable"}}));else if(0===t.indexOf("CqlEditor"))e.createCqlEditor("");else if(0===t.indexOf("Connect"))e.setState((function(){return{action:"connect"}}));else if(0===t.indexOf("Disconnect"))e.setState((function(){return{action:"disconnect"}}));else if(0===t.indexOf("select")){var d="SELECT ".concat("*"," FROM ",s,".").concat(c);e.createCqlEditor(d)}else if(0===t.indexOf("insert")){var p=i.get(o),f=e.findById(p,"id_presentation",r).columns.map((function(e,t){if(void 0!==e.name)return e.name})).filter((function(e){return void 0!==e})),m=Array(f.length).fill(" "),y="INSERT INTO ".concat(s,".").concat(c,"(").concat(f,") VALUES (").concat(m,")");e.createCqlEditor(y)}else if(0===t.indexOf("delete")){var h=" DROP TABLE ".concat(s,".").concat(c);e.createCqlEditor(h)}else if(0===t.indexOf("create index")){var g="CREATE INDEX new_index ON ".concat(s,".").concat(c," ()");e.createCqlEditor(g)}},e.dropUDTType=function(){var t,n=e.state,a=n.rightPanelContent,r=n.currentConnection,o=n.currentKeyspace,i=n.focus,c=n.typeFocus,s=n.loading,l=n.focusId;if("type"===c&&(t=r+"."+o+"."+i),!s){var u=T.cloneDeep(a),d=T.cloneDeep(e.state.connections),p=d.get(e.state.currentConnection),f=e.findById(p,"id_presentation",l);f.rotation="spinner",e.setState((function(){return{showcontext:!1,loading:!0,connections:d}})),e.service.dropUserType(t).then((function(n){if(n instanceof ArrayBuffer){var i=new Uint8Array(n),c=new TextDecoder("utf-8").decode(i);if(e.makeDataForToast(c)){if(0!==a.length){var s=a.findIndex((function(e){return e.name===t}));-1!==s&&(u.splice(s,1),e.setState((function(){return{rightPanelContent:u}})))}}else f.rotation="",e.setState((function(){return{rightPanelContent:u}}));var l=e.getConnectionProperies(r),m=l.host,y=l.port,h=l.user,g=l.pass,b=l.connection_alias;o&&e.service.getTypes(m,y,b,h,g,o).then((function(t){if(t instanceof ArrayBuffer){var a=new Uint8Array(t);try{var r=_.KeySpace.decode(a);if(0===r.length)e.disconnectState();else{var i=r.userTypes;e.addAdditionalProperties(i),e.findById(p,"name",o).userTypes=i,e.setState((function(){return{connections:d,loading:!1}}))}}catch(n){}}})).catch((function(t){e.setState((function(){return{loading:!1}}))}))}})).catch((function(t){e.makeDataForToast(t.toString()),e.setState((function(){return{loading:!1}}))}))}e.setState((function(){return{action:""}}))},e.dropRole=function(){var t,n=e.state,a=n.currentConnection,r=n.focus,o=n.typeFocus,i=n.loading,c=n.focusId;if("role"!==o&&"user"!==o||(t=a+"."+r),!i){var s=T.cloneDeep(e.state.connections),l=s.get(e.state.currentConnection),u=e.findById(l,"id_presentation",c);u.rotation="spinner",e.setState((function(){return{showcontext:!1,loading:!0,connections:s}})),e.service.dropRole(t).then((function(t){if(t instanceof ArrayBuffer){var n=new Uint8Array(t),r=new TextDecoder("utf-8").decode(n);e.makeDataForToast(r)||(u.rotation="");var o=e.getConnectionProperies(a),i=o.host,c=o.port,d=o.user,p=o.pass,f=o.connection_alias;e.service.getRoles(i,c,f,d,p).then((function(n){if(n instanceof ArrayBuffer){var a=new Uint8Array(n);try{var r=_.Roles.decode(a);if(0===r.length)e.disconnectState();else{var o=T.cloneDeep(r.roles);e.addAdditionalProperties(r.roles),e.addAdditionalProperties(o),l.roles=r.roles,l.users=o.filter((function(e){return void 0===e.name||(e.options?"true"===e.options.login:void 0)})),e.setState((function(){return{connections:s,loading:!1}}))}}catch(t){}}})).catch((function(t){e.setState((function(){return{loading:!1}}))}))}})).catch((function(t){e.makeDataForToast(t.toString()),e.setState((function(){return{loading:!1}}))}))}e.setState((function(){return{action:""}}))},e.dropUserFunction=function(){var t,n=e.state,a=n.rightPanelContent,r=n.currentConnection,o=n.currentKeyspace,i=n.typeFocus,c=n.loading,s=n.focusId,l=n.connections,u=l.get(r),d=e.findById(u,"id_presentation",s);if("function"===i&&(t=r+"."+o+"."+d.signature),!c){var p=T.cloneDeep(a),f=T.cloneDeep(l),m=f.get(r),y=e.findById(m,"id_presentation",s);y.rotation="spinner",e.setState((function(){return{showcontext:!1,loading:!0,connections:f}})),e.service.dropUserFunction(t).then((function(n){if(n instanceof ArrayBuffer){var i=new Uint8Array(n),c=new TextDecoder("utf-8").decode(i);if(e.makeDataForToast(c)){if(0!==a.length){var s=a.findIndex((function(e){return e.name===t}));-1!==s&&(p.splice(s,1),e.setState((function(){return{rightPanelContent:p}})))}}else y.rotation="",e.setState((function(){return{rightPanelContent:p}}));var l=e.getConnectionProperies(r),u=l.host,d=l.port,h=l.user,g=l.pass,b=l.connection_alias;o&&e.service.getUserFunctions(u,d,b,h,g,o).then((function(t){if(t instanceof ArrayBuffer){var a=new Uint8Array(t);try{var r=_.KeySpace.decode(a);if(0===r.length)e.disconnectState();else{var i=r.userFunctions;e.addAdditionalProperties(i),e.findById(m,"name",o).userFunctions=i,e.setState((function(){return{connections:f,loading:!1}}))}}catch(n){}}})).catch((function(t){e.setState((function(){return{loading:!1}}))}))}})).catch((function(t){e.makeDataForToast(t.toString()),e.setState((function(){return{loading:!1}}))}))}e.setState((function(){return{action:""}}))},e.dropAggregateFunction=function(){var t,n=e.state,a=n.rightPanelContent,r=n.currentConnection,o=n.currentKeyspace,i=n.typeFocus,c=n.loading,s=n.focusId,l=n.connections,u=l.get(r),d=e.findById(u,"id_presentation",s);if("agfunction"===i&&(t=r+"."+o+"."+d.signature),!c){var p=T.cloneDeep(a),f=T.cloneDeep(l),m=f.get(r),y=e.findById(m,"id_presentation",s);y.rotation="spinner",e.setState((function(){return{showcontext:!1,loading:!0,connections:f}})),e.service.dropAggregateFunction(t).then((function(n){if(n instanceof ArrayBuffer){var i=new Uint8Array(n),c=new TextDecoder("utf-8").decode(i);if(e.makeDataForToast(c)){if(0!==a.length){var s=a.findIndex((function(e){return e.name===t}));-1!==s&&(p.splice(s,1),e.setState((function(){return{rightPanelContent:p}})))}}else y.rotation="",e.setState((function(){return{rightPanelContent:p}}));var l=e.getConnectionProperies(r),u=l.host,d=l.port,h=l.user,g=l.pass,b=l.connection_alias;o&&e.service.getAggregateFunctions(u,d,b,h,g,o).then((function(t){if(t instanceof ArrayBuffer){var a=new Uint8Array(t);try{var r=_.KeySpace.decode(a);if(0===r.length)e.disconnectState();else{var i=r.aggregateFunctions;e.addAdditionalProperties(i),e.findById(m,"name",o).aggregateFunctions=i,e.setState((function(){return{connections:f,loading:!1}}))}}catch(n){}}})).catch((function(t){e.setState((function(){return{loading:!1}}))}))}})).catch((function(t){e.makeDataForToast(t.toString()),e.setState((function(){return{loading:!1}}))}))}e.setState((function(){return{action:""}}))},e.dropMaterializedView=function(){var t,n=e.state,a=n.rightPanelContent,r=n.currentConnection,o=n.currentKeyspace,i=n.typeFocus,c=n.loading,s=n.focusId,l=n.connections,u=l.get(r),d=e.findById(u,"id_presentation",s);if("view"===i&&(t=r+"."+o+"."+d.name),!c){var p=T.cloneDeep(a),f=T.cloneDeep(l),m=f.get(r),y=e.findById(m,"id_presentation",s);y.rotation="spinner",e.setState((function(){return{showcontext:!1,loading:!0,connections:f}})),e.service.dropMView(t).then((function(n){if(n instanceof ArrayBuffer){var i=new Uint8Array(n),c=new TextDecoder("utf-8").decode(i);if(e.makeDataForToast(c)){if(0!==a.length){var s=a.findIndex((function(e){return e.name===t}));-1!==s&&(p.splice(s,1),e.setState((function(){return{rightPanelContent:p}})))}}else y.rotation="",e.setState((function(){return{rightPanelContent:p}}));var l=e.getConnectionProperies(r),u=l.host,d=l.port,h=l.user,g=l.pass,b=l.connection_alias;o&&e.service.getMViews(u,d,b,h,g,o).then((function(t){if(t instanceof ArrayBuffer){var a=new Uint8Array(t);try{var r=_.KeySpace.decode(a);if(0===r.length)e.disconnectState();else{var i=r.views;e.addAdditionalProperties(i),e.findById(m,"name",o).views=i,e.setState((function(){return{connections:f,loading:!1}}))}}catch(n){}}})).catch((function(t){e.setState((function(){return{loading:!1}}))}))}})).catch((function(t){e.makeDataForToast(t.toString()),e.setState((function(){return{loading:!1}}))}))}e.setState((function(){return{action:""}}))},e.dropTable=function(){var t,n=e.state,a=n.rightPanelContent,r=n.currentConnection,o=n.currentKeyspace,i=n.typeFocus,c=n.loading,s=n.focusId,l=n.connections,u=l.get(r),d=e.findById(u,"id_presentation",s);if("table"===i&&(t=r+"."+o+"."+d.name),!c){var p=T.cloneDeep(a),f=T.cloneDeep(l),m=f.get(r),y=e.findById(m,"id_presentation",s);y.rotation="spinner",e.setState((function(){return{showcontext:!1,loading:!0,connections:f}})),e.service.dropTable(t).then((function(n){if(n instanceof ArrayBuffer){var i=new Uint8Array(n),c=new TextDecoder("utf-8").decode(i);if(e.makeDataForToast(c)){if(0!==a.length){var s=a.findIndex((function(e){return e.name===t}));-1!==s&&(p.splice(s,1),e.setState((function(){return{rightPanelContent:p}})))}}else y.rotation="",e.setState((function(){return{rightPanelContent:p}}));var l=e.getConnectionProperies(r),u=l.host,d=l.port,h=l.user,g=l.pass,b=l.connection_alias;o&&e.service.getTables(u,d,b,h,g,o).then((function(t){if(t instanceof ArrayBuffer){var a=new Uint8Array(t);try{var r=_.KeySpace.decode(a);if(0===r.length)e.disconnectState();else{var i=r.tables;e.addAdditionalProperties(i),e.findById(m,"name",o).tables=i,e.setState((function(){return{connections:f,loading:!1}}))}}catch(n){}}})).catch((function(t){e.setState((function(){return{loading:!1}}))}))}})).catch((function(t){e.makeDataForToast(t.toString()),e.setState((function(){return{loading:!1}}))}))}e.setState((function(){return{action:""}}))},e.currentFocus=function(t){try{var n=e.state,a=n.connected,r=n.connections,o=n.currentConnection,i=n.loading;if(t.target.closest(".context-menu__item")){var c=t.target.closest(".context-menu__item").innerText;e.executeContextMenuAction(c)}else if(t.target.closest(".headerbuttons"));else{if("mouseover"===t.type||"mouseout"===t.type){var s=t.target.closest("[role=tree-item]");s&&s.classList.toggle("hover")}if("click"===t.type){console.log("click ");var l=e.setFocus(t),u=l.target,d=l.typeFocus;if(t.target.classList.contains("tree-push"))if(a.includes(o)){var p=u.id,f=new Map(r),m=f.get(o);e.setDown(m,p),e.setState((function(){return{connections:f}}))}else"connection"===d&&e.tryConnect()}if("contextmenu"===t.type)if(t.target.closest("[role=presentation]")){t.preventDefault();var y=e.setFocus(t).typeFocus,h=e.makeContextData(y);e.setState((function(){return{showcontext:!0,stylecontext:{left:t.x,top:t.y},dataContext:h}}))}else e.setState((function(){return{showcontext:!1}}));if("dblclick"===t.type){var g=e.setFocus(t).target;if(g)if(a.includes(o)){var b=g.id,v=new Map(r),w=v.get(o);e.setDown(w,b),e.setState((function(){return{connections:v}}))}else i||e.tryConnect()}}}catch(t){e.state.showcontext&&(e.setState((function(){return{showcontext:!1}})),console.log(t))}},e.setDown=function(t,n){if(t.id_presentation===n)return t.rotation?t.rotation="":t.rotation="down",!0;Object.values(t).forEach((function(t){if(t instanceof Object){var a=e.setDown(t,n);if(a)return a}}))},e.resetFocus=function(t){t.id_tree_item&&""!==t.id_tree_item&&(t.id_tree_item=""),Object.values(t).forEach((function(t){t instanceof Object&&e.resetFocus(t)}))},e.focusSet=function(t,n){t.id_presentation!==n?Object.values(t).forEach((function(t){t instanceof Object&&e.focusSet(t,n)})):""===t.id_tree_item?t.id_tree_item={id:"focus"}:t.id_tree_item||(t.id_tree_item="")},e.addConnection=function(t){if(t){var n=e.makeConnectionWithChangedProps();e.setState((function(){return{connections:n,focus:"",action:""}}))}},e.deleteConnection=function(){var t=e.state,n=t.focus;if("connection"===t.typeFocus&&""!==n){var a=[],r=e.storage.get();if(r){for(var o=new Map(e.state.connections),i=0;i<r.length;i++)n===JSON.parse(r[i]).connection_alias?(e.setState((function(){return{focus:"",currentClassName:"",currentConnection:"",typeFocus:""}})),o.delete(n)):a.push(r[i]);0===o.size?(e.storage.clear(),e.setState((function(e){e.connections;return{connections:""}}))):(e.storage.saveAll(a),e.setState((function(){return{connections:o}})))}}e.setState((function(){return{action:""}}))},e.disconnectState=function(){if(""!==e.state.currentConnection&&e.state.connected.includes(e.state.currentConnection)){var t=[];if(0===e.state.connected.length);else{t.push.apply(t,Object(c.a)(e.state.connected));var n=t.findIndex((function(t){return t===e.state.currentConnection}));t.splice(n,1)}e.setState((function(){return{connected:t,showcontext:!1,rightPanelContent:[],dataToast:"",loading:!1}}))}},e.tryConnect=function(){var t=e.getConnectionProperies(e.state.currentConnection),n=t.host,a=t.port,r=t.user,o=t.pass,i=t.connection_alias,c=T.cloneDeep(e.state.connections),l=c.get(e.state.currentConnection);l.rotation="spinner",e.setState((function(){return{connections:c,loading:!0}})),e.service.getKeySpaces(n,a,i,r,o).then((function(t){if(t instanceof ArrayBuffer){var n=e.state,a=n.currentConnection,r=n.connected,o=new Uint8Array(t);try{var i=_.KeySpaces.decode(o);if(0===i.length)e.disconnectState();else{var u,d=Object(s.a)(i.keyspaces);try{for(d.s();!(u=d.n()).done;){var p=u.value;e.addAdditionalProperties(p)}}catch(h){d.e(h)}finally{d.f()}var f=T.cloneDeep(i.roles);if(e.addAdditionalProperties(i.roles),e.addAdditionalProperties(f),l.keyspaces=i.keyspaces,l.roles=i.roles,l.users=f.filter((function(e){return void 0===e.name||(e.options?"true"===e.options.login:void 0)})),l.rotation="down",""!==a&&!r.includes(a)){var m=[];0===r.length?m.push(a):(m=T.cloneDeep(r)).push(a),e.setState((function(){return{connected:m}})),e.makeDataForToast("Connected successfully")}e.setState((function(){return{connections:c,loading:!1}}))}}catch(g){try{l.rotation="",e.setState((function(){return{connections:c,loading:!0}}));var y=le.Error.decode(o);e.makeDataForToast(y.text)}catch(b){}}}})).catch((function(t){l.rotation="",e.setState((function(){return{connections:c,loading:!0}})),e.makeDataForToast(t.toString())}))},e.getKeyspace=function(t,n){var a=e.getConnectionProperies(e.state.currentConnection),r=a.host,o=a.port,i=a.user,c=a.pass,l=a.connection_alias,u=T.cloneDeep(e.state.connections),d=u.get(e.state.currentConnection);e.service.getKeySpace(r,o,l,i,c,t).then((function(t){if(t instanceof ArrayBuffer){var a=e.state,r=(a.currentConnection,a.connected,new Uint8Array(t));try{var o,i=_.KeySpaces.decode(r),c=Object(s.a)(i.keyspaces);try{for(c.s();!(o=c.n()).done;){var l=o.value;e.addAdditionalProperties(l)}}catch(y){c.e(y)}finally{c.f()}if("edit"===n&&i.keyspaces[0]instanceof Object){var p=i.keyspaces[0],f=d.keyspaces.findIndex((function(e){return e.name===p.name}));d.keyspaces[f]=p}"create"===n&&i.keyspaces[0]instanceof Object&&(d.keyspaces.push(i.keyspaces[0]),d.rotation="down"),e.setState((function(){return{connections:u,loading:!1}}))}catch(h){try{"create"===n&&(d.rotation=""),e.setState((function(){return{connections:u}}));var m=le.Error.decode(r);e.makeDataForToast(m.text)}catch(g){}}}})).catch((function(t){"create"===n&&(d.rotation=""),e.setState((function(){return{connections:u}})),e.makeDataForToast(t.toString())}))},e.connect=function(){var t=e.state,n=t.currentConnection,a=t.loading;""!==n&&(a||e.tryConnect())},e.disconnect=function(){""!==e.state.currentConnection&&e.service.disConnect(e.state.currentConnection).then((function(t){if(t){var n=new Map(e.state.connections);delete n.get(e.state.currentConnection).keyspaces,n.get(e.state.currentConnection).rotation="",e.findById(n.get(e.state.currentConnection),"id_presentation",e.state.focusId),e.disconnectState(),e.setState((function(){return{connections:n}}))}}))},e.setAction=function(t){e.setState((function(){return{action:t}}))},e.closeElement=function(){e.setState((function(){return{action:""}}))},e.showCurrentModalWindow=function(t){if("createconnection"===t)return r.a.createElement(O,{save:e.addConnection,id:"createconnection",close:e.closeElement});if("editconnection"===t)return r.a.createElement(O,{save:e.addConnection,focus:e.state.focus,close:e.closeElement,id:"editconnection"});if("deleteconnection"===t)return r.a.createElement(Ue,{close:e.closeElement,textToConfirm:"Do you really wish to delete '".concat(e.state.focus,"' connection ?"),killerFunction:e.deleteConnection});if("createrole"===t){var n=[],a=e.state.connections.get(e.state.currentConnection);return a.roles&&a.roles.forEach((function(e){void 0!==e.name&&n.push(e.name)})),r.a.createElement(De,{save:e.createRole,connect:e.state.currentConnection,exclud:n,id:"createrole",close:e.closeElement})}if("signout"===t)return r.a.createElement(Ue,{close:e.closeElement,textToConfirm:"Do you really wish to exit ?",killerFunction:e.service.exit});if("editrole"===t){var o=e.state,i=o.focusId,c=o.connections,s=o.currentConnection,l=c.get(s),u=e.findById(l,"id_presentation",i);return r.a.createElement(De,{save:e.createRole,roleForEdit:u,connect:e.state.currentConnection,focus:e.state.focus,close:e.closeElement,id:"editrole"})}if("createuser"===t){var d=[],p=e.state.connections.get(e.state.currentConnection);return p.roles&&p.roles.forEach((function(e){void 0!==e.name&&d.push(e.name)})),r.a.createElement(De,{save:e.createRole,connect:e.state.currentConnection,exclud:d,id:"createuser",close:e.closeElement})}if("edituser"===t){var f=e.state,m=f.focusId,y=f.connections,h=f.currentConnection,g=y.get(h),b=e.findById(g,"id_presentation",m);return r.a.createElement(De,{save:e.createRole,roleForEdit:b,connect:e.state.currentConnection,focus:e.state.focus,close:e.closeElement,id:"edituser"})}var v;if("createkeyspace"===t)return e.state.connections.get(e.state.currentConnection)&&(v=e.state.connections.get(e.state.currentConnection).keyspaces.map((function(e){return e.name}))),r.a.createElement(Ae,{id:"createkeyspace",createKS:e.createKS,close:e.closeElement,excludes:v});if("editkeyspace"===t){var w={};return e.state.connections.get(e.state.currentConnection).keyspaces.forEach((function(t){t.id_presentation===e.state.focusId&&(w.durableWrites=t.durableWrites,w.name=t.name,w.replication=t.replication)})),r.a.createElement(Ae,{id:"editkeyspace",close:e.closeElement,objectForEdit:w,createKS:e.createKS})}return"dropkeyspace"===t?r.a.createElement(Ue,{close:e.closeElement,textToConfirm:"Do you really wish to delete '".concat(e.state.focus,"' keyspace ?"),killerFunction:e.dropKeyspace}):"droptype"===t?r.a.createElement(Ue,{close:e.closeElement,textToConfirm:"Do you really wish to delete '".concat(e.state.focus,"' type ?"),killerFunction:e.dropUDTType}):"dropfunction"===t?r.a.createElement(Ue,{close:e.closeElement,textToConfirm:"Do you really wish to delete '".concat(e.state.focus,"' function ?"),killerFunction:e.dropUserFunction}):"dropagfunction"===t?r.a.createElement(Ue,{close:e.closeElement,textToConfirm:"Do you really wish to delete '".concat(e.state.focus,"' aggredate function ?"),killerFunction:e.dropAggregateFunction}):"droptable"===t?r.a.createElement(Ue,{close:e.closeElement,textToConfirm:"Do you really wish to delete '".concat(e.state.focus,"' table ?"),killerFunction:e.dropTable}):"dropview"===t?r.a.createElement(Ue,{close:e.closeElement,textToConfirm:"Do you really wish to delete '".concat(e.state.focus,"' materialized view?"),killerFunction:e.dropMaterializedView}):"droprole"===t?r.a.createElement(Ue,{close:e.closeElement,textToConfirm:"Do you really wish to delete '".concat(e.state.focus,"' role ?"),killerFunction:e.dropRole}):"dropuser"===t?r.a.createElement(Ue,{close:e.closeElement,textToConfirm:"Do you really wish to delete '".concat(e.state.focus,"' user ?"),killerFunction:e.dropRole}):("connect"===t&&(e.connect(),e.setState((function(){return{action:"",showcontext:!1}}))),"disconnect"===t&&(e.disconnect(),e.setState((function(){return{action:"",showcontext:!1}}))),void("createuserfunction"===t&&e.setState((function(){return{action:"",showcontext:!1}}))))},e.dropKeyspace=function(){var t=_.KeySpace.create({name:e.state.focus,connectionAlias:e.state.currentConnection}),n=_.KeySpace.encode(t).finish(),a=T.cloneDeep(e.state.connections),r=a.get(e.state.currentConnection),o=r.keyspaces.findIndex((function(t){return t.name===e.state.focus}));r.keyspaces[o].rotation="spinner",e.setState((function(){return{connections:a}})),e.service.dropKeySpaces(n).then((function(t){if(t instanceof ArrayBuffer){var n=new Uint8Array(t),i=new TextDecoder("utf-8").decode(n);e.makeDataForToast(i)?r.keyspaces.splice(o,1):r.keyspaces[o].rotation="",e.setState((function(){return{connections:a,typeFocus:"",focus:"",focusId:"",currenKeyspace:"",currentConnection:""}}))}})).catch((function(t){r.keyspaces[o].rotation="",e.setState((function(){return{connections:a,typeFocus:"",focus:"",focusId:"",currentKeyspace:"",currentConnection:""}})),e.makeDataForToast(t.toString())})),e.setState((function(){return{action:"",showcontext:!1,typeFocus:"",focus:"",focusId:"",currentKeyspace:"",currentConnection:""}}))},e.createRole=function(t){Be("#".concat(t)).modal("hide"),e.setState((function(){return{action:""}})),e.tryConnect()},e.createKS=function(t){t.connectionAlias=e.state.currentConnection;var n=_.KeySpace.create(t),a=_.KeySpace.encode(n).finish(),r=T.cloneDeep(e.state.connections),o=r.get(e.state.currentConnection);if("createkeyspace"===e.state.action)o.rotation="spinner",e.setState((function(){return{connections:r}})),e.service.createKeySpaces(a).then((function(n){if(n instanceof ArrayBuffer){var a=new Uint8Array(n),i=new TextDecoder("utf-8").decode(a);e.makeDataForToast(i)?e.getKeyspace(t.name,"create"):(o.rotation="",e.setState((function(){return{connections:r}})))}})).catch((function(t){o.rotation="",e.setState((function(){return{connections:r}})),e.makeDataForToast(t.toString())})),Be("#createkeyspace").modal("hide");else if("editkeyspace"===e.state.action){var i=e.findById(o,"id_presentation",e.state.focusId);i&&(i.rotation="spinner"),e.setState((function(){return{connections:r}})),e.service.editKeySpaces(a).then((function(n){if(n instanceof ArrayBuffer){var a=new Uint8Array(n),o=new TextDecoder("utf-8").decode(a);e.makeDataForToast(o)?e.getKeyspace(t.name,"edit"):(i.rotation="",e.setState((function(){return{connections:r}})))}})).catch((function(t){i.rotation="",e.setState((function(){return{connections:r}})),e.makeDataForToast(t.toString())})),Be("#editkeyspace").modal("hide")}e.setState((function(){return{action:"",showcontext:!1}}))},e.makeContent=function(){if(Array.isArray(e.props.content)){var t=[],n=[];e.props.content.forEach((function(a,o){"userType"===a.type&&(t.push(r.a.createElement("li",{className:"nav-item",role:"presentation",key:o},r.a.createElement("a",{style:{padding:3,fontSize:15,fontFamily:"Apple Chancery, cursive"},className:"nav-link",id:"type-tab".concat(o),"data-toggle":"tab",href:"#type".concat(o),role:"tab","aria-controls":"type".concat(o),"aria-selected":"false"},a.name,r.a.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:function(){return e.props.closeTabPanel("".concat(o))}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))))),n.push(r.a.createElement("div",{className:"tab-pane fade ",id:"type".concat(o),role:"tabpanel","aria-labelledby":"types-tab"},r.a.createElement(Ke,{element:a,saveContent:function(t){return e.supportFunc(t,"".concat(+o))}})))),"userFunction"===a.type&&(t.push(r.a.createElement("li",{className:"nav-item",role:"presentation",key:o},r.a.createElement("a",{style:{padding:3,fontSize:15,fontFamily:"Apple Chancery, cursive"},className:"nav-link",id:"udf-tab".concat(o),"data-toggle":"tab",href:"#udf".concat(o),role:"tab","aria-controls":"udf".concat(o),"aria-selected":"false"},a.name,r.a.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:function(){return e.props.closeTabPanel("".concat(o))}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))))),n.push(r.a.createElement("div",{className:"tab-pane fade ",id:"udf".concat(o),role:"tabpanel","aria-labelledby":"udfs-tab"},r.a.createElement(_e,{element:a,saveContent:function(t){return e.supportFunc(t,"".concat(+o))}}))))})),e.setState((function(){return{tabs:t,tabsContent:n}}))}},e.saveContent=function(t,n){var a=T.cloneDeep(e.state.connections),r=T.cloneDeep(e.state.rightPanelContent);if("userType"===r[n].type){var o=t.path.split(".")[0],i=t.path.split(".")[1],c=t.path.split(".")[2],s=a.get(o);if("create"===t.action){var l=e.findById(s,"name",i);l&&(l.userTypes.find((function(e){return void 0===e.name})).rotation="spinner"),e.setState((function(){return{connections:a,loading:!0}})),e.service.createUserType(t).then((function(c){if(c instanceof ArrayBuffer){var l=new Uint8Array(c),u=new TextDecoder("utf-8").decode(l);if(e.makeDataForToast(u)){if(0!==e.state.rightPanelContent.length){r[n].action="edit";var d=t.nameType,p=t.path.split(".");r[n].name=p[0]+"."+p[1]+"."+d,e.setState((function(){return{rightPanelContent:r,loading:!0}}))}}else e.setState((function(){return{rightPanelContent:r,loading:!0}}));var f=e.getConnectionProperies(o),m=f.host,y=f.port,h=f.user,g=f.pass,b=f.connection_alias;i&&e.service.getTypes(m,y,b,h,g,i).then((function(t){if(t instanceof ArrayBuffer){var n=new Uint8Array(t);try{var o=_.KeySpace.decode(n);if(0===o.length)e.disconnectState();else{var l=o.userTypes;e.addAdditionalProperties(l),e.findById(s,"name",i).userTypes=l,e.setState((function(){return{connections:a,loading:!1}}))}}catch(c){e.setState((function(){return{rightPanelContent:r,loading:!1}}))}}})).catch((function(t){e.setState((function(){return{rightPanelContent:r,loading:!1}}))}))}})).catch((function(t){e.setState((function(){return{rightPanelContent:r,loading:!1}})),e.makeDataForToast(t.toString())}))}if("edit"===t.action){var u,d=e.findById(s,"name",i);d&&((u=d.userTypes.find((function(e){return e.name===c}))).rotation="spinner"),e.setState((function(){return{connections:a,loading:!0}})),e.service.editUserType(t).then((function(r){if(r instanceof ArrayBuffer){var l=new Uint8Array(r),u=new TextDecoder("utf-8").decode(l),d=T.cloneDeep(e.state.rightPanelContent);if(e.makeDataForToast(u)){if(0!==e.state.rightPanelContent.length&&"edit"!==d[n].action){d[n].action="edit";var p=t.nameType,f=t.path.split(".");d[n].name=f[0]+"."+f[1]+"."+p,e.setState((function(){return{rightPanelContent:d,loading:!1}}))}}else e.setState((function(){return{rightPanelContent:d,loading:!1}}));var m=e.getConnectionProperies(o),y=m.host,h=m.port,g=m.user,b=m.pass,v=m.connection_alias;i&&e.service.getTypes(y,h,v,g,b,i).then((function(t){if(t instanceof ArrayBuffer){var o=new Uint8Array(t);try{var l=_.KeySpace.decode(o);if(0===l.length)e.disconnectState();else{var u=l.userTypes.findIndex((function(e){return e.name===c})),p=l.userTypes[u];e.addAdditionalProperties(p),p.rotation="down";var f=e.findById(s,"name",i),m=f.userTypes.findIndex((function(e){return e.name===c}));f.userTypes[m]=p,d[n].fields=p.fields,e.setState((function(){return{connections:a,loading:!1,rightPanelContent:d}}))}}catch(r){e.setState((function(){return{rightPanelContent:d,loading:!1}}))}}})).catch((function(t){e.setState((function(){return{rightPanelContent:d,loading:!1}}))}))}})).catch((function(t){e.makeDataForToast(t.toString()),u.rotation="",e.setState((function(){return{connections:a,loading:!1,rightPanelContent:r}}))}))}}if("userFunction"===r[n].type){var p=e.state.rightPanelContent[n],f=p.name.split(".")[0],m=p.name.split(".")[1],y=a.get(f),h=e.findById(y,"name",m);h&&(h.userFunctions.find((function(e){return void 0===e.name})).rotation="spinner"),e.setState((function(){return{connections:a}})),e.service.createUserFunction(t).then((function(t){if(t instanceof ArrayBuffer){var o=new Uint8Array(t),i=new TextDecoder("utf-8").decode(o);if(e.makeDataForToast(i)){if(0!==e.state.rightPanelContent.length)try{var c=i.matchAll(/'.*'/g),s=Array.from(c)[0][0];s=s.replace(/'/g,""),r[n].name=f+"."+m+"."+s,e.setState((function(){return{rightPanelContent:r,loading:!1}}))}catch(b){console.log(b)}}else e.setState((function(){return{rightPanelContent:r,loading:!1}}));var l=e.getConnectionProperies(f),u=l.host,d=l.port,p=l.user,h=l.pass,g=l.connection_alias;m&&e.service.getUserFunctions(u,d,g,p,h,m).then((function(t){if(t instanceof ArrayBuffer){var n=new Uint8Array(t);try{var o=_.KeySpace.decode(n);if(0===o.length)e.disconnectState();else{var i=o.userFunctions;e.addAdditionalProperties(i),e.findById(y,"name",m).userFunctions=i,e.setState((function(){return{connections:a,loading:!1}}))}}catch(b){e.setState((function(){return{rightPanelContent:r,loading:!1}}))}}})).catch((function(t){e.setState((function(){return{rightPanelContent:r,loading:!1}}))}))}})).catch((function(e){return console.log(e)}))}if("aggregateFunction"===r[n].type){var g=r[n],b=g.name.split(".")[0],v=g.name.split(".")[1],w=a.get(b),E=e.findById(w,"name",v);E&&(E.aggregateFunctions.find((function(e){return void 0===e.name})).rotation="spinner"),e.setState((function(){return{connections:a}})),e.service.createAggregateFunction(t).then((function(t){if(t instanceof ArrayBuffer){var o=new Uint8Array(t),i=new TextDecoder("utf-8").decode(o);if(e.makeDataForToast(i)){if(0!==r.length)try{var c=i.matchAll(/'.*'/g),s=Array.from(c)[0][0];s=s.replace(/'/g,""),r[n].name=b+"."+v+"."+s,e.setState((function(){return{rightPanelContent:r,loading:!1}}))}catch(y){console.log(y)}}else e.setState((function(){return{rightPanelContent:r,loading:!1}}));var l=e.getConnectionProperies(b),u=l.host,d=l.port,p=l.user,f=l.pass,m=l.connection_alias;v&&e.service.getAggregateFunctions(u,d,m,p,f,v).then((function(t){if(t instanceof ArrayBuffer){var n=new Uint8Array(t);try{var o=_.KeySpace.decode(n);if(0===o.length)e.disconnectState();else{var i=o.aggregateFunctions;e.addAdditionalProperties(i),e.findById(w,"name",v).aggregateFunctions=i,e.setState((function(){return{connections:a,loading:!1}}))}}catch(y){e.setState((function(){return{rightPanelContent:r,loading:!1}}))}}})).catch((function(t){e.setState((function(){return{rightPanelContent:r,loading:!1}}))}))}})).catch((function(e){return console.log(e)}))}if("view"===r[n].type){var O,k=r[n],S=k.name.split(".")[0],C=k.name.split(".")[1],x=a.get(S),j=e.findById(x,"name",C);j&&((O=j.views.find((function(e){return void 0===e.name}))).rotation="spinner"),e.setState((function(){return{connections:a}})),e.service.createMV(t).then((function(t){if(t instanceof ArrayBuffer){var o=new Uint8Array(t),i=new TextDecoder("utf-8").decode(o);if(e.makeDataForToast(i)){if(0!==e.state.rightPanelContent.length){try{var c=i.matchAll(/'.*'/g),s=Array.from(c)[0][0];s=s.replace(/'/g,""),r[n].name=r[n].name.split(".")[0]+"."+r[n].name.split(".")[1]+"."+s,e.setState((function(){return{rightPanelContent:r,loading:!1}}))}catch(y){console.log(y)}var l=e.getConnectionProperies(S),u=l.host,d=l.port,p=l.user,f=l.pass,m=l.connection_alias;C&&e.service.getMViews(u,d,m,p,f,C).then((function(t){if(t instanceof ArrayBuffer){var n=new Uint8Array(t);try{var o=_.KeySpace.decode(n);if(0===o.length)e.disconnectState();else{var i=o.views;e.addAdditionalProperties(i),e.findById(x,"name",C).views=i,e.setState((function(){return{connections:a,loading:!1}}))}}catch(y){e.setState((function(){return{rightPanelContent:r,loading:!1}}))}}})).catch((function(t){e.setState((function(){return{rightPanelContent:r,loading:!1}}))}))}}else O.rotation="",e.setState((function(){return{rightPanelContent:r,loading:!1,connections:a}}))}})).catch((function(e){return console.log(e)}))}if("table"===r[n].type){var N,F=r[n],P=F.name.split(".")[0],A=F.name.split(".")[1],K=a.get(P),I=e.findById(K,"name",A);I&&((N=I.tables.find((function(e){return void 0===e.name}))).rotation="spinner"),e.setState((function(){return{connections:a}})),"create"===t.action&&e.service.createTable(t.finish).then((function(t){if(t instanceof ArrayBuffer){var o=new Uint8Array(t),i=new TextDecoder("utf-8").decode(o);if(e.makeDataForToast(i)){if(0!==e.state.rightPanelContent.length)try{e.closeTabPanel(n)}catch(f){console.log(f)}}else N.rotation="",e.setState((function(){return{rightPanelContent:r,loading:!1,connections:a}}));var c=e.getConnectionProperies(P),s=c.host,l=c.port,u=c.user,d=c.pass,p=c.connection_alias;A&&e.service.getTables(s,l,p,u,d,A).then((function(t){if(t instanceof ArrayBuffer){var n=new Uint8Array(t);try{var o=_.KeySpace.decode(n);if(0===o.length)e.disconnectState();else{var i=o.tables;e.addAdditionalProperties(i),e.findById(K,"name",A).tables=i,e.setState((function(){return{connections:a,loading:!1}}))}}catch(f){e.setState((function(){return{rightPanelContent:r,loading:!1}}))}}})).catch((function(t){e.setState((function(){return{rightPanelContent:r,loading:!1}}))}))}})).catch((function(e){return console.log(e)})),"edit"===t.action&&e.service.editTable(t).then((function(o){if(o instanceof ArrayBuffer){var i=new Uint8Array(o),c=new TextDecoder("utf-8").decode(i);if(e.makeDataForToast(c)){if(0!==e.state.rightPanelContent.length)try{e.closeTabPanel(n)}catch(m){}}else N.rotation="",e.setState((function(){return{rightPanelContent:r,loading:!1,connections:a}}));var s=e.getConnectionProperies(P),l=s.host,u=s.port,d=s.user,p=s.pass,f=s.connection_alias;A&&e.service.getTables(l,u,f,d,p,A).then((function(n){if(n instanceof ArrayBuffer){var o=new Uint8Array(n);try{var i=_.KeySpace.decode(o);if(0===i.length)e.disconnectState();else{var c=i.tables;e.addAdditionalProperties(c);try{var s=c.findIndex((function(e){return e.name===t.nameTable}));s>-1&&e.editTableHandler(c[s])}catch(m){}e.findById(K,"name",A).tables=c,e.setState((function(){return{connections:a,loading:!1}}))}}catch(m){e.setState((function(){return{rightPanelContent:r,loading:!1}}))}}})).catch((function(t){e.setState((function(){return{rightPanelContent:r,loading:!1}}))}))}})).catch((function(e){return console.log(e)}))}},e.closeTabPanel=function(t){if(e.state.rightPanelContent.length>0){var n=T.cloneDeep(e.state.rightPanelContent);n[t]=null;var a=0;n.forEach((function(e){null===e&&a++})),a&&a===n.length&&(n=[]),e.setState((function(){return{rightPanelContent:n}}))}},e.removeToast=function(){e.setState((function(){return{dataToast:""}}))},e.addAdditionalProperties=function(t){return Object.values(t).forEach((function(n){n instanceof Object&&("replication"!==e.getKeyByValue(t,n)&&e.addAdditionalProperties(n))})),t instanceof Array?t.push({rotation:"",id_tree_item:"",id_presentation:X()}):(void 0===t.rotation&&(t.rotation=""),void 0===t.id_tree_item&&(t.id_tree_item=""),void 0===t.id_presentation&&(t.id_presentation=X())),t},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.currentFocus),document.getElementById("tree-container").addEventListener("dblclick",this.currentFocus),document.getElementById("tree-container").addEventListener("mouseover",this.currentFocus),document.getElementById("tree-container").addEventListener("mouseout",this.currentFocus),document.addEventListener("contextmenu",this.currentFocus);var e=this.makeConnectionWithChangedProps();this.setState((function(){return{connections:e}}))}},{key:"pushToRightPanel",value:function(e){var t=this.state.rightPanelContent,n=[];0===t.length||(n=T.cloneDeep(this.state.rightPanelContent)).forEach((function(e){e&&(e.show="")})),n.push(e),this.setState((function(){return{rightPanelContent:n,showcontext:!1}}))}},{key:"setFocus",value:function(e){var t=this;try{var n=e.target.closest("[role=presentation]"),a=e.target.closest("li.connection"),r=e.target.closest("li.keyspace"),o=a.querySelector(".tree-text").innerHTML,i=n.className,c=n.id,s=new Map(this.state.connections),l=s.get(o);s.forEach((function(e,n){t.resetFocus(e)})),this.focusSet(l,c);var u=s.set(o,l);return this.setState((function(){return{focusId:c,focus:n.querySelector(".tree-text").innerHTML,typeFocus:i,currentConnection:a.querySelector(".tree-text").innerHTML,currentKeyspace:r?r.querySelector(".tree-text").innerHTML:"",connections:u,showcontext:!1}})),{target:n,typeFocus:i}}catch(e){}}},{key:"getConnectionProperies",value:function(e){var t=this.storage.get(e);return{host:JSON.parse(t).host,port:JSON.parse(t).port,user:JSON.parse(t).authUser,pass:JSON.parse(t).authPass,connection_alias:JSON.parse(t).connection_alias}}},{key:"makeDataForToast",value:function(e){return e.toLowerCase().includes("successfully")?(this.setState((function(){return{dataToast:{result:e,style:{color:"green"}}}})),!0):(this.setState((function(){return{dataToast:{result:e,style:{color:"red"}}}})),!1)}},{key:"render",value:function(){var e,t=this.state,n=t.showcontext,a=t.stylecontext,o=t.dataContext,i=t.typeFocus,c=t.connected,s=t.currentConnection,l=t.dataToast,u=t.action;n&&(e=r.a.createElement(Fe,{style:a,data:o}));var d=this.getListConnections();return r.a.createElement("div",{className:"container1"},e,r.a.createElement("div",{className:"header-buttons"},r.a.createElement(se,{setAction:this.setAction,typeFocus:i,connected:c,currentConnection:s,connect:this.connect,disconnect:this.disconnect,createUserType:this.createUserType,createUserFunction:this.createUserFunction,createAggregateFunction:this.createAggregateFunction,createCqlEditor:this.createCqlEditor,createTableHandler:this.createTableHandler,createMaterializedView:this.createMateralizedView})),r.a.createElement(q.a,{split:"vertical",minSize:250},r.a.createElement(k,{connections:d}),r.a.createElement(ce,{removeToast:this.removeToast,dataToast:l,content:this.state.rightPanelContent,saveContent:this.saveContent,closeTabPanel:this.closeTabPanel})),u?this.showCurrentModalWindow(u):null)}},{key:"getKeyByValue",value:function(e,t){return Object.keys(e).find((function(n){return e[n]===t}))}}]),n}(a.Component);i.a.render(r.a.createElement(ze,null),document.getElementById("root"))},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){"use strict";var a=n(121),r=a.Reader,o=a.Writer,i=a.util,c=a.roots.default||(a.roots.default={});c.Error=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.text="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(10).string(e.text),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,a=new c.Error;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:a.text=e.string();break;default:e.skipType(7&o)}}return a},e.decodeDelimited=function(e){return e instanceof r||(e=new r(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.text&&e.hasOwnProperty("text")&&!i.isString(e.text)?"text: string expected":null},e.fromObject=function(e){if(e instanceof c.Error)return e;var t=new c.Error;return null!=e.text&&(t.text=String(e.text)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.text=""),null!=e.text&&e.hasOwnProperty("text")&&(n.text=e.text),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},e}(),e.exports=c}},[[128,1,2]]]);
//# sourceMappingURL=main.9706f31e.chunk.js.map